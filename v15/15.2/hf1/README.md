4D v15.2 Hotfix 1
---

![jp](https://cloud.githubusercontent.com/assets/10509075/16182979/016305e0-36e7-11e6-816b-2335cc6f0abb.png)

* ACI0095181 [IMPORT TEXT](http://doc.4d.com/4Dv15R4/4D/15-R4/IMPORT-TEXT.301-2824550.ja.html)の速度が15.1と比較してずっと遅くなりました。

* ACI0094570 [FORM SCREENSHOT](http://doc.4d.com/4Dv15/4D/15.1/FORM-SCREENSHOT.301-2685887.ja.html)は，高解像度（Retina）ディスプレイ対応の画像を返しませんでした。

* ACI0095036 コンパイルパスが「すべて定義する」に設定されている場合，コンパイル/シンタックスチェック時に日本語の変数名が化けて表示されました。

* ACI0094996 スタイル付きリストボックスに表示された日本語テキストは，そうではないセルと比べ，1ピクセル高い位置に表示されました。

**注記**: Mac版だけが修正されました。Windowsでは，標準テキストの表示にはGDI，スタイル付きテキストの表示にはRicheTextEditが使用されています。しかし，日本語フォントは，行の高さがGDIとRicheTextEditで違うことがあります。たとえば，「メイリオ」の場合，行の高さがGDIでは16，RicheTextEditでは24かもしれません。Windowsでリストボックスをデザインする場合，標準テキストとスタイル付きテキストのどちらでも十分の高さになるようにデザインしてください。RicheTextEditが十分収まるような高さに行が設定されていれば，今回の問題は発生しません。あるいは，スタイルを使用する予定がない列もスタイル付きプロパティを有効にすることにより，テキストの位置を揃えることができます。

* ACI0094810 「サーバーに接続」画面に表示されるサーバーのコンピューター名に日本語が含まれる場合，内容が正しく表示されませんでした。たとえば，「Miyako の MacBook」の代わりに「Miyako ? MacBook」と表示されました。

* ACI0091689 Windows版のみ。マーカーをcontrolクリックで削除することができませんでした。

* ACI0092682 メソッド内に変数名がいくつも含まれる場合，日本語入力中に表示されるガイドラインの位置が左にずれて表示されました。
 
* ACI0094690 隣接したテキストエリア上にスクロールバーを移動すると，テキストエリアのスクロールバーの表示が崩れました。

* ACI0094718 クライアント側で[SET QUERY DESTINATION](http://doc.4d.com/4Dv15/4D/15.1/SET-QUERY-DESTINATION.301-2685575.ja.html)を実行し，クエリデスティネーションをセットに設定した場合，UUIDフィールドにNULLが含まれていると，アプリケーションがクラッシュしました。

* ACI0094719 [GRAPH](http://doc.4d.com/4Dv15/4D/15.1/GRAPH.301-2685872.ja.html)でタイプ``2``グラフを描画した場合，値が0%の項目は棒が表示されないはずですが，実際には値が100%であるかのように描画されました。

* ACI0094435 Mac版のみ。OS X 10.11 El Capitanでは，既定サイズよりも背の高いコンボボックスは正しく表示されませんでした。

* ACI0094571 テキストエリアの「ワードラップ」および「垂直スクロールバー」がともに「自動」に設定されていた場合，テキストがスクロールバーに重ねて表示されました。

* ACI0083980 データベース設定でメッセージフォントをクリックし，フォントピッカーをキャンセルしても，ピッカーで選択されていたフォントが採用されました。

* ACI0094250 Mac 64bits版（日本語）のみ。新規データベースを作成した直後にエラーメッセージが表示されました。

**注記**: 64ビット版の日本語形態素分解ライブラリ``mecab``が正しくビルドされていなかったことが原因でした。

* ACI0092650 メソッドエディターに改行コード（バックスラッシュ記号）が使用されている場合，日本語変換中のガイドラインが2行目以降は左にずれて表示されました。

* ACI0095055 最前面アプリケーションを切り替えると，変換中の日本語入力が確定されてしまいました。

**注記**: Mac版では，入力中の日本語を引き続き編集することができます。Windows版では，これまでどおり，変換中の日本語入力が確定されます。

* ACI0095030 左右のマウスボタンを連続クリックすると，ダブルクリックイベントが発生しました。

* ACI0094545 [OBJECT SET FONT SIZE](http://doc.4d.com/4Dv15/4D/15.1/OBJECT-SET-FONT-SIZE.301-2685680.ja.html)や[OBJECT SET FONT](http://doc.4d.com/4Dv15/4D/15.1/OBJECT-SET-FONT.301-2685674.ja.html)をリストボックス全体に対してコールした場合，リストボックスヘッダーのフォントサイズを変更することができませんでした。ヘッダーに対してコールした場合は問題ありません。

---

* ACI0093776 [書き出しダイアログ](http://doc.4d.com/4Dv15/4D/15.1/Exporting-data-to-files.300-2679411.ja.html)の「区切り文字」設定エリアに数字とスラッシュ記号を入力すると，アプリケーションがクラッシュしました。たとえば，``13/10``と入力することができません。

* ACI0095108 ストラクチャエディター上でフィールド名を編集し，``Tab``キーを押すと，右のテーブルにフォーカスが移動しました。おおきなストラクチャの場合，自分がどこにいたのかが分からなくなり，とても不便です。フィールド名を編集中にテーブルが切り替わるべきではありません。

* ACI0092903 [WP EXPORT VARIABLE](http://livedoc.4d.com/4D-Write-Pro-15-R4/4D-Write-Pro/WP-EXPORT-VARIABLE.301-2821091.ja.html)で4D Write ProをMIME形式でエクスポートした場合，76文字を超過する行に改行コードが挿入されないため，そのメッセージをメール送信しても相手側で正しく表示されないことがありました。

**注記**: 修正により，990文字を超過する行に改行コードが挿入されるようになりました。本来，BASE64パートの1行が76文字を超えないようにする必要はありません。78文字（改行コードを含む）が推奨されているのは，ユーザーインタフェースに表示できる行数が限られていた，昔のメールクライアントを考慮したものであり，今日のメールクライアントでは，問題になりません。今回の問題は，メールクライアントではなく，SMTPサーバーの行数サイズに対応するためであり，そのサイズは，78文字ではなく，1000文字となっています。998文字ではなく，990文字で改行コードが挿入されるようになったのは，一部の特殊なSMTPの仕様に合わせるためです。

* ACI0094651 配列型リストボックスを印刷した場合，ピクチャーの透明な背景が黒く出力されました。

* ACI0094753 [WEB SET OPTION](http://doc.4d.com/4Dv15/4D/15.1/WEB-SET-OPTION.301-2685155.ja.html)で``Web inactive process timeout``を指定しても，セッション管理されたWebプロセスのタイムアウトが変更されず，データベース設定のタイムアウトが適用されました。

* ACI0094868 Windows版のみ。フォームエディター上で複数のリストボックスヘッダーを選択することができませんでした。

* ACI0092700 階層リスト内で素早くドラッグ/ドロップ操作をすると，アプリケーションがクラッシュしました。

* ACI0093949 階層ポップアップメニューに項目を追加すると，別の階層ポップアップメニューの選択された項目が変化することがありました。

* ACI0094031 クライアント側では，[SET DATABASE PARAMETER](http://doc.4d.com/4Dv15/4D/15.1/SET-DATABASE-PARAMETER.301-2686308.ja.html)の``Log command list``でログに記録されるコマンドを限定することができませんでした。

* ACI0094604 左右のマウスボタンを続けてクリックした場合，4Dを再起動するまでてコンボボックスのメニューが表示されたままになりました。

* ACI0095109 特定の状況では，サーバー側で[TRACE](http://doc.4d.com/4Dv15/4D/15.1/TRACE.301-2684990.ja.html)を実行するとアプリケーションがクラッシュしました。

* ACI0093268 Mac版のみ。4D Viewのスクロール速度に問題がありました。Macのトラックパッドやマウスでエリアを上下にスクロールした場合，エリアが2本指スワイプ操作にほとんどついてこられませんでした。スクロール速度が非常にゆっくりで，移動の開始も遅れがちでした。今回の修正で4D Write, 4D View, プロパティリスト，クイックレポートの動作が改良されました。

* ACI0094561 サイズの小さなBLOBに対して[EXPAND BLOB](http://doc.4d.com/4Dv15/4D/15.1/EXPAND-BLOB.301-2686170.ja.html)のgzip圧縮を使用すると，エラーメッセージが表示されました。

```
C_BLOB($blbContent)
C_LONGINT($lngIsCompressed)

CONVERT FROM TEXT("test";"UTF-8";$blbContent)
COMPRESS BLOB($blbContent;GZIP best compression mode)

BLOB PROPERTIES($blbContent;$lngIsCompressed)
If ($lngIsCompressed#0)
  EXPAND BLOB($blbContent)
End if
```

* ACI0094933 メソッドエディターに[REDRAW WINDOW](http://doc.4d.com/4Dv15/4D/15.1/REDRAW-WINDOW.301-2686137.ja.html)と入力した後，コマンド名の上にマウスポインターを置くとシンタックスが表示されますが，その内容に誤記がありました。

* 誤 ``REDRAW WINDOW( windows )} ``

* 正 ``REDRAW WINDOW{( windows )} ``
  
* ACI0094740 [SELECTION RANGE TO ARRAY](http://doc.4d.com/4Dv15/4D/15.1/SELECTION-RANGE-TO-ARRAY.301-2685271.ja.html)で不正なセレクション範囲を指定した場合，アプリケーションがクラッシュしました。

```
//テーブルにレコードは1件のみ
ALL RECORDS([Table_1])
SELECTION RANGE TO ARRAY(3;2;[Table_1];$a)
```

* ACI0094964 [QUERY BY FORMULA](http://doc.4d.com/4Dv15/4D/15.1/QUERY-BY-FORMULA.301-2685583.ja.html)の動作がv13とv15では違いました。たとえば，下記のようなリレーションが3テーブル間に設定されている場合，v13で瞬時だったクエリがv15では0.2秒ほどになりました。運用ではセレクションのサイズがあるので，ユーザーが苛立ちを感じるほどに時間がかかります。クエリパスを比較すると，明らかにv12とv15では違う処理がなされており，v15では途中でおおきな結果セットが作られていることがわかります。

```
[PA_SEJOUR] 1<-N [PA_MVT] 1<-N [MVT_ACTES]
```

* ACI0094401  クロスタブ型クイックレポート内の時間フィールドは，[Sum](http://doc.4d.com/4Dv15/4D/15.1/Sum.301-2686264.ja.html)の計算値が正しくありませんでした。小計値は秒単位，合計値は時間単位で値が表示されました。

* ACI0094120 ``$0``に値を返すようなメソッドが式ウォッチに登録されている状況で，[TRACE](http://doc.4d.com/4Dv15/4D/15.1/TRACE.301-2684990.ja.html)が使用されているメソッドを実行した場合，3回目のトレース以降はデバッガが使用できなくなりました。

* ACI0094029 [SET DATABASE PARAMETER](http://doc.4d.com/4Dv15/4D/15.1/SET-DATABASE-PARAMETER.301-2686308.ja.html)で``Circular log limitation``を指定すれば，ログファイルの数が最新のn個に制限されるはずですが，クライアント側では設定が無視され，延々とファイルが増えてゆきました。ターミナルクライアントはディスク容量が限られているため，このコマンドが特に必要です。

* ACI0094028 Mac版のみ。おおきな外部モニターをメイン画面として使用した場合，内部モニター（サブ画面）でクリックしたポップアップメニューの表示される位置が正しくありませんでした。 

* ACI0094194 Windows版のみ。ドロップダウンリストを矢印キーでスクロールし，``enter``キーで[CONFIRM](http://doc.4d.com/4Dv15R4/4D/15-R4/CONFIRM.301-2825910.ja.html)ダイアログを選択および確定すると，アプリケーションがクラッシュしました。

* ACI0094314 Mac版のみ。[SET PRINT PREVIEW](http://doc.4d.com/4Dv15/4D/15.1/SET-PRINT-PREVIEW.301-2685618.ja.html)を実行すると，それまでに設定した用紙の向きがリセットされました。本来，コマンドの実行順序は関係ないはずです。

* ACI0094454 リストフォームをダブルクリックしても，[FILTER EVENT](http://doc.4d.com/4Dv15/4D/15.1/FILTER-EVENT.301-2685822.ja.html)で画面の遷移を抑制することができます。ダブルクリックをフィルターして表示したダイアログから表示したダイアログを続けてキャンセルした場合，最初のリスト画面に復帰する代わりにフィルターしたはずの入力画面が表示されました。つまり，ダイアログを続けたことにより，フィルターが無効になりました。

* ACI0094739 Windows版のみ。終了処理中にメニューバークリックするとアプリケーションがクラッシュしました。

* ACI0094773 Mac版のみ。Retinaディスプレイに表示された4D Writeエリアに対して何かをドロップすると，画面の表示が乱れました。

* ACI0094861 [PRINTERS LIST](http://doc.4d.com/4Dv15/4D/15.1/PRINTERS-LIST.301-2685608.ja.html)が原因でクラッシュすることがありました。極めて特殊な状況でなければ再現しません。

* ACI0089399 コンポーネントメソッドを[4DACTION](http://doc.4d.com/4Dv15/4D/15.1/URLs-and-Form-Actions.300-2685147.ja.html)で呼び出すことができませんでした。

* ACI0093962 Mac版のみ。テキスト終わりにある空白をダブルクリックした場合，本来であれば最後のワードまたは空白が選択されるはずですが，何も起きませんでした。

* ACI0094045 [WR SAVE DOCUMENT](http://doc.4d.com/4Dv15/4D-Write/15/WR-SAVE-DOCUMENT.301-2398576.ja.html)でドキュメントをUTF-8形式で保存した場合，拡張子``txt``が省略されました。

```
$vl_Template:=WR New offscreen area 
$vt_Document:=System folder(Desktop)+"test.txt"
WR INSERT TEXT ($vl_Template;"4D is the best!!!")
WR SAVE DOCUMENT ($vl_Template;$vt_Document;wr unicode document UTF8)
WR DELETE OFFSCREEN AREA ($vl_Template)
```

* ACI0094410 バーコードフォントなど，一部のフォント名がラベルエディターのフォントリストに表示されませんでした。

**注記**: 表示されないフォント名は，現行のAPIではサポートされていないものです。（旧式のAPIを使用している）ラベルエディターのリストは修正されましたが，プロパティリストおよび[FONT LIST](http://doc.4d.com/4Dv15R3/4D/15-R3/FONT-LIST.301-2695248.ja.html)は，引き続き現行のフォント名だけが列挙されます。

* ACI0094451 SQL ``INTO``でBLOBフィールドをBLOB配列にコピーしようとしても，配列にデータが転写されませんでした。

* ACI0094502 Mac版のみ。iMacテンキーの``clear``を入力した場合，何もテキストが選択されていなければ，何も起きず，テキストが選択されていれば，制御文字が挿入されました。v13以前は，いずれの場合も制御文字が挿入されました。正しい動作は，選択されたテキストを削除するというものです。

* ACI0094606 ``Content-Type``ヘッダーが定義されていないリソースを[HTTP Get](http://doc.4d.com/4Dv15R3/4D/15-R3/HTTP-Get.301-2696227.ja.html)でダウンロードした場合，レスポンスが空でした。

**注記**: コマンドは``Content-Type``ヘッダーの``charset``の基づき，文字コードを特定しています。これがみつからない場合，デフォルトで``UTF-8``が選択されます。そのため，アクセスしたリソースの文字コードが実際には``UTF-8``でない場合，問題が発生しました。修正により，``charset``が不明な場合，HTMLあるいはXMLの宣言に基づいて文字コードの特定が試みられるようになりました。

* ACI0094646 一部の変換されたデータベースでは，新規作成したSQLスキーマが既存のデフォルトスキーマと入れ替わり，結果的にすべてのテーブルに適用されました。普通は再現しない問題です。修正により，データベース開始時にスキーマIDの重複が解決されるようになりました。

* ACI0094674 Windows版のみ。テキストエリアにハングルを入力すると，最後の文字が消えました。

* ACI0094725 フィールドにおおきなテキストが登録されている場合，フォームの表示にかなりの時間がかかりました。

* ACI0094799 Mac版のみ。サーバー側のWebサービスメソッド内で繰り返しPDFを作成していると，アプリケーションがクラッシュすることがありました。

* ACI0094851 何らかの理由で不正な``multipart/form-data``タイプのデータがWebサーバーに対して送信された場合，アプリケーションがクラッシュするまで無限ループに陥りました。

* ACI0094906 フォームが表示されていない状況でオブジェクト変数に対して[ST Get plain text](http://doc.4d.com/4Dv15/4D/15.1/ST-Get-plain-text.301-2686022.ja.html)を使用すると，アプリケーションがクラッシュしました。

* ACI0065508 リストボックスの``On Display Detail``イベントが``On Load``よりも先に実行されました。

* ACI0088167 [LISTBOX GET HIERARCHY](http://doc.4d.com/4Dv15/4D/15.1/LISTBOX-GET-HIERARCHY.301-2686097.ja.html)に列番号``0``を渡すと，アプリケーションがクラッシュしました。

* ACI0094555 いくつかのフィルターを続けて作成し，名前を変更した場合，間違ったフィルターの名前が更新されることがありました。

* ACI0094563 4D View Pro（拡張リストボックス）内に表示されたスリーステートチェックボックスをクリック操作で「中間」状態にすることができませんでした。

**注記**: 本来，スリーステートチェックボックスの中間（どちらでもない）状態は表示のためであり，これをクリックで指定できることは間違いであると考えられています。ただし，通常のチェックボックスが歴史的な経緯のより，これを許しています。修正により，4D View Pro（拡張リストボックス）のスリーステートチェックボックスであれば，同様のユーザーインタフェースが作成できるようになりました。

* ACI0094631 クエリエディターを表示し，自動リレーションが設定されたフィールドに対してクエリを実行すると，アプリケーションがクラッシュしました。

* ACI0094638 Mac版のみ。特定の状況では，保存またはキャンセルボタンが1回目のクリックに対して反応しませんでした。たとえば，リストボックスの値を選択リストで入力した直後に問題が発生しました。

* ACI0094692 Windows版のみ。コマンドで作成されたメニューの外観が以前のバージョンとは違いました。特にグレーアウトされた行やセパレーター行の表示が変でした。

* ACI0094710 Mac版のみ。リストボックスにフォーカスが置かれている状態でポップアップウインドウを表示した場合，そのポップアップウインドウにもテキスト入力が表示されていると，フォームを閉じた後に復帰したフォームのフォーカスが置かれたエリアにはカーソルが表示されず，テキストの選択された範囲はグレーアウトされていました。

* ACI0094775 リストボックスの行を移動する場合，端までドラッグ＆ドロップすると自動的に行がスクロールを始めますが，ロックされた列の上ではそのようになりませんでした。

* ACI0094778 Windows版のみ。アプリケーションビルドを何度も実行していると，フォルダー名を変更できないという趣旨のエラーメッセージが表示され，処理が中断されました。アップデートツールのマニフェストがインストールできない，というエラーが返されることもあります。

* ACI0094812 Mac版のみ。OS X 10.11 El Capitanで使用した場合，4D Writeおよび4D Viewプラグインが理由でアプリケーションがクラッシュしました。

* ACI0094826 [SVG_SET_OPTIONS](http://doc.4d.com/4Dv15/4D/15/SVG-SET-OPTIONS.301-2048793.ja.html)に``?+5``フラグを渡すと，XMLが改行コードで整形されますが，その場合，[SVG_GET_ATTRIBUTES](http://doc.4d.com/4Dv15/4D/15/SVG-GET-ATTRIBUTES.301-2048834.ja.html)から返される文字列に余計な空白文字が追加されました。

* ACI0094846 おおきなデータベース（例: 30GB），遅いサーバー（例: ハードディスク使用の仮想マシン）で自動アップグレードを実行した場合，処理が完了できないことがありました。ログファイルを調べると，最後のステップに7秒のタイムアウトが設定されていることが伺えます。

```
2016-03-16 03:46:16 [4DUP] INFO - Updater starting - 16.03.2016 - 03:46
2016-03-16 03:46:16 [4DUP] INFO - Waiting for external process to quit
2016-03-16 03:46:16 [4DUP] INFO - Application service stopped, proceeding
2016-03-16 03:46:16 [4DUP] INFO - Proceeding with up-to-date application install...
2016-03-16 03:46:54 [4DUP] INFO - Proceeding with up-to-date application restart...
2016-03-16 03:46:54 [4DUP] INFO - Restarting application service
2016-03-16 03:47:01 [4DUP] ERROR - Failed to restart updated application as service
2016-03-16 03:47:01 [4DUP] ERROR - Up-to-date application restart failed
```

* ACI0094900 Windows版のみ。TeamViewerで接続した環境で印刷画面やファイル選択画面などのシステムダイアログを表示すると，アプリケーションがクラッシュしました。

* ACI0092067 ストラクチャエディターの「インデックス」画面からオブジェクト型フィールドのインデックスを削除することができませんでした。画面上はインデックスが削除されたようにみえますが，データベースを再起動すると，実際には削除されていないことがわかります。コンテキストメニューなど，他の方法であれば問題なく削除することができます。

* ACI0094574 スタートアップで（画像が収まるように）スプラッシュスクリーンをリサイズした場合，ウインドウをマウスでリサイズしても，ウインドウに合わせて画像がリサイズされませんでした。再起動後など，スプラッシュスクリーンをリサイズする必要がなければ，問題なく画像が表示されます。

* ACI0094592 Mac OS X 10.11 ドイツ語版のみ。検索ダイアログに表示されるキャンセルボタンの幅が不足していました。"Abbrechen"と表示するためには，100px程度の幅が必要です。

* ACI0094816 いくら削除してもWebサーバーを起動するたびに``index.html``ファイルが作成されました。

* ACI0095099 4D Write文書（``.4W7``）を4D Write Proにインポートしようとすると，アプリケーションがクラッシュする事例がありました。

* ACI0095308 Windows版のみ。4D Viewエリアの再描画中にアプリケーションがクラッシュする事例がありました。

* ACI0095077 Mac版のみ。アプリケーションのパスにアクセント記号が含まれる場合，``SET DATABASE PARAMETER(Spellchecker;1)``でクラッシュしました。

* ACI0094619 クエリエディターに入力されたテーブル名をバックスペースキーで削除したときの動作が変でした。削除中に自動コンプリートが働いているような感じでした。また，名前の最初が似たようなフィールドが存在する場合，値が変わったりしました。

* ACI0095303 特定の条件が満たされた場合，[WR ON ERROR](http://doc.4d.com/4Dv15/4D-Write/15/WR-ON-ERROR.301-2398671.ja.html)が原因でアプリケーションがクラッシュする可能性がありました。

* ACI0095184 「プリント時可変」プロパティが有効にされたフィールドをプリントアウトした場合，間違った位置にオブジェクトが印刷されることがありました。

* ACI0091711 クエリ定義ファイルをロードすると空のエラーダイアログが表示されることがありました。

* ACI0095051 4D Writeの自動スペルチェックは処理が遅すぎました。

* ACI0091247 Mac版のみ。階層リストに``Carriage return``が含まれるテキストを表示した場合，2行にわたってテキストが表示されました。

``注記:** 修正により，改行コード以降のテキストは切り捨てられるようになりました。

* ACI0094947 階層リストボックスをセットアップ（作成およびデータ挿入）したのと同じメソッド内でコールされた場合，[LISTBOX SELECT BREAK](http://doc.4d.com/4Dv15/4D/15.1/LISTBOX-SELECT-BREAK.301-2686094.ja.html)は何もしませんでした。階層リストボックスでなければ問題ありません。

* ACI0095160 [HTTP Get](http://doc.4d.com/4Dv15/4D/15.1/HTTP-Get.301-2685985.ja.html)は，``Transfer-Encoding``が``chuncked``の場合，完全なデータを返さないことがありました。

* ACI0095239 [HTTP Get](http://doc.4d.com/4Dv15/4D/15.1/HTTP-Get.301-2685985.ja.html)は，アクセスしたリソースが``301 Moved Permanently``や``302 Found``だった場合，2度目のリクエストで``304 Not Modified``と空のレスポンスを返す代わりに，ヘッダーをリセットし，``location``を変更して新しいリクエストを発行しました。

**注記**: Welcomeウィザートに表示される画像でこの問題を確認することができます。``304``を処理する代わりに，同じ画像が毎回ダウンロードしていました。

* ACI0095171 コンパイルモードでそれぞれ別プロセスで表示された同一のフォーム（サブテーブルが含まれる）を素早く切り替えていると，アプリケーションがクラッシュすることがありました。ウインドウのタイトルバーをクリックすれば問題ありません。

* ACI0094837 [OBJECT SET FONT](http://doc.4d.com/4Dv15/4D/15.1/OBJECT-SET-FONT.301-2685674.ja.html)でリストボックスのフォントを``%password``に設定することができませんでした。

* ACI0095000 プライマリーキーまたは重複不可フィールドを含む複合インデックスを削除することができませんでした。

* ACI0095091 サブフォームから表示された入力フォームでは，階層ポップアップメニューをクリックしても，2度目以降はポップアップメニューが表示されませんでした。

* ACI0094273 ツールボックスのフィルターで新規フィルターを追加し，テストエリアに何かを入力した場合，入力した値ではなく，デフォルト値である「123,45」がテストエリアに表示されました。

* ACI0069623 UUIDフィールドを[SET FIELD VALUE NULL](http://doc.4d.com/4Dv15/4D/15.1/SET-FIELD-VALUE-NULL.301-2686197.ja.html)でヌルにすることができませんでした。フィールドに代入されていた値（自動UUIDではない）をコマンドでヌルに変更してから保存した場合，デバッガには空の文字列が表示されますが，レコードを再ロードすると，値は以前のままであることが確認できます。 

* ACI0092893 スタンドアロン版で「最近使用したデータベース」メニューからアプリケーションを再起動した場合，デザインモード「ツール」メニューに「4D View」（あるいは何であれ最初に表示されるべきプラグインツール）が表示されませんでした。

* ACI0094670 [MODIFY SELECTION](http://doc.4d.com/4Dv15/4D/15.1/MODIFY-SELECTION.301-2684948.ja.html)を実行している値，ヘルプメニューの項目を選択することができませんでした。

* ACI0094754 Mac版のみ。[Random](http://doc.4d.com/4Dv15/4D/15.1/Random.301-2685794.ja.html)で生成される乱数は，再起動後，常に同じ順番で発行されました。

**注記**: v6.7.2（2002年）やv11（2009年）でも，同様の"不具合"が修正された経緯があります。いずれの場合も，システムやプラットフォームの変更に伴う問題でした。今回の修正により，同じ値が発行されることはなくなりましたが，代償として速度が少し遅くなっています。

* ACI0094786 階層ポップアップメニューに関連付けられたリストの項目を選択した後，[CLEAR LIST](http://doc.4d.com/4Dv15/4D/15.1/CLEAR-LIST.301-2685852.ja.html)でそのリストをクリアした場合，次回のクリックで選択されていたアイテムが再び表示されました。

* ACI0094982 [DOM Count XML element](http://doc.4d.com/4Dv15/4D/15.1/DOM-Count-XML-elements.301-2685116.ja.html)は大文字と小文字を区別しませんでした。

* ACI0094988 階層リストボックスをセットアップ（作成およびデータ挿入）したのと同じメソッド内でコールされた場合，[LISTBOX SELECT ROW ](http://doc.4d.com/4Dv15/4D/15.1/LISTBOX-SELECT-ROW.301-2686109.ja.html)は何もしませんでした。階層リストボックスでなければ問題ありません。

* ACI0095118 リストボックスに同じ配列が2個以上表示されている場合，ヘッダークリックによる並び替えが正しく働きませんでした。

* ACI0095155 フォームエディター上でオブジェクトをクリックした場合，クリック中に少しでもマウスを動かすとオブジェクトが移動してしまいました。

* ACI0094067 不正なXLIFFファイルがロードされ，データベース開始時にエラーが表示された場合，以後のダイアログにはパスワードフォントが適用されませんでした。

* ACI0094114 [WR PRINT](http://doc.4d.com/4Dv15/4D-Write/15/WR-PRINT.301-2398714.ja.html)で既存のPDFファイルを上書きすることができませんでした。

* ACI0095060 4D Writeの「保存」メニューを選択した場合，すでに文書がディスクに保存されていたとしても，再び保存ダイアログが表示されました。

* ACI0094834 Mac版のみ。4D Write Proで``Myriad Pro``や``Trade Gothic LT Std``といったフォントを使用した場合，各行で上端の数ピクセルが欠けました。通常の変数やフィールドでは，最初の行だけが欠けます。

**注記**: システムの不具合が関係しています。最初の行で上端の数ピクセルが欠ける問題は，標準アプリのテキストエディットでも再現します。今回の修正は，最初の行以外でもピクセルが欠けていたことを解消するものです。4D Write Proの場合，罫線があり，パディングのない段落では，同じ問題が発生します。システムから返される行の高さが間違っているためです。問題を回避するためには，段落の上パディングを増やすことができます。しかし，通常の変数やフィールドでは段落のパディングを変更することができません。

* ACI0095357 クロステーブル型のクイックレポートは，時間フィールドの[Sum](http://doc.4d.com/4Dv15/4D/15.1/Sum.301-2686264.ja.html)が正しくありませんでした。各列には秒が表示され，右側の合計行には時間が表示されました。どちらも時間が表示されるべきです。

* ACI0095215 クロステーブル型のクイックレポートを印刷すると，ヘッダータイトルが重なって出力されました。

* ACI0095257 15.2以降，テキストの最後に空白文字がない限り，テキストの最後をクリックしてカーソルをそこに移動することができませんでした。

* ACI0095353 アプリケーション終了時に"Task pending dialog with DB4D CRON"というエラーが表示されることがありました。今回の修正により，データベースマネージャーはアプリケーション終了時に2段階に分けて閉じられるようになりました。まず最初に``DB4D CRON``,  ``Flush Manager``, `` Index Builder``といったタスクが解放され，その後，変数，マップ，配列といったオブジェクトが解放されるようになりました。

* ACI0095231 
[自動アップデート](http://doc.4d.com/4Dv15/4D/15.1/Automatic-updating-of-server-or-single-user-applications.300-2679426.ja.html)のログに問題がありました。旧フォルダーが削除（ごみ箱に移動）できなかった場合，アップデートが完了していても，ログには"Update failed"というエラーが報告されました。フォルダーはマニュアル操作で削除することができ，アップデート自体は完了しているので，これを不明なエラーとして報告する必要はないはずです。

修正前のログ

```
2016-05-13 10:22:05 [4DUP] ERROR - Wrong Parameter.  
2016-05-13 10:22:05 [4DUP] INFO - Update failed - 13.05.2016 - 10:22
2016-05-13 10:22:05 [xbox] ERROR - [661] Wrong Parameter.  , task #7920
```

修正後のログ
```
2016-06-15 14:19:49 [4DUP] ERROR - Can't move ... into trash.
2016-06-15 14:19:49 [4DUP] ERROR - The source or destination path exceeded or would exceed MAX_PATH.
2016-06-15 14:19:49 [4DUP] INFO - Update failed - 6/15/2016 - 2:19
2016-06-15 14:19:51 [PW32] ERROR - [121] The source or destination path exceeded or would exceed MAX_PATH., task #2412
2016-06-15 14:19:51 [xbox] ERROR - [661] Can't move ... into trash., task #2412
```

* ACI0094827 ビルドしたアプリケーションで[AP FULL SCREEN](http://doc.4d.com/4Dv15R4/4D-Pack/15-R4/AP-FULL-SCREEN.301-2919252.ja.html)が使用できませんでした。

* ACI0095020 クエリエディターで日付型の「よりも前である」などを選択すると，入力フィルターに阻まれて日付入力できませんでした。

* ACI0094966 Windows版のみ。``control``+クリックでフォームのマーカーを削除することができませんでした。

* ACI0094667 ``LDAP``に間違ったパスワード[LDAP LOGIN ](http://doc.4d.com/4Dv15R4/4D/15-R4/LDAP-LOGIN.301-2825918.ja.html)でログインすると，アプリケーションがクラッシュすることがありました。

* ACI0094069 画像を含む4D Write Pro文書をメール送信した場合，Outlookに画像が表示されませんでした。

**注記**: 一部のメールサーバーは，メールの本文を解析し，990文字毎に改行コードを挿入します。しかし，[WP EXPORT VARIABLE](http://doc.4d.com/4Dv15R4/4D/15-R4/WP-EXPORT-VARIABLE.301-2821091.ja.html)は最長997文字の行を出力することがありました。

* ACI0093521 自動アップグレードで旧ネットワークレイヤーから新ネットワークレイヤーにサーバーを入れ替えた場合，SSLが有効にされていると，クライアントの再接続に失敗しました。

* ACI0093427 メニューバーを作成した直後にテストし，もうひとつメニューバーを作成した直後にテストすると，アプリケーションがクラッシュしました。

* ACI0089189 クエリエディターの入力エリアで``backspace``キーをタイプしたときの動きが変でした。

* ACI0093541 ストラクチャエディターでテーブルの下の方にあるフィールドを選択した状態から別のフィールド名を編集するためにクリックすると，テーブルがスクロールして不便でした。
