4D v15 R3
---

* ACI0086716 [DOMコマンド](http://doc.4d.com/4Dv14/4D/14.4/Overview-of-XML-DOM-Commands.300-2512139.ja.html)は，無効な参照が渡された場合など，システム変数```OK```に```0```が代入され，空の参照（32ビット版であれば```0000000000000000```）が返されるはずですが，```12DDB60000000000```のような中途半端で使用できない参照が返されることもありました。もっとも，システム変数```OK```には```0```が代入されます。

* ACI0093545 Windows版のみ。[HTTP Get](http://doc.4d.com/4Dv15R2/4D/15-R2/HTTP-Get.301-2543928.ja.html)に（``http:``，``ftp:``などではない）無効なプロトコルが渡された場合，プリケーションがクラッシュしました。``image:``のようなカスタムプロトコルは，APIとして公開されていることがあります。DNSクエリでクラッシュするのは間違いです。

* ACI0093970 日本語のトークン（変数名など）が含まれるメソッドをコンパイルしてエラーが検出された場合，メッセージが文字化けしました。

![syntaxerror_v14_ok](https://cloud.githubusercontent.com/assets/10509075/11988652/942bdcaa-aa36-11e5-8aa6-cb0a518b3a1c.png)

![syntaxerror_v15_bug](https://cloud.githubusercontent.com/assets/10509075/11988653/97a5ad7a-aa36-11e5-90e5-3151d3fcb9c3.png)

* ACI0094215 Windows版のみ。4D Viewあるいは4D Writeエリアにドイツ語配列のキーボードでControl+Alt+(2,3,Q,E)キーで² / ³ / @ / ?といった記号を入力することができませんでした。ビルド190461以降の問題です。

* ACI0094182 レコードとインデックスを圧縮した後に一部のインデックスが破損することがありました（『タグヘッダーが無効です』）。

* ACI0094255 Mac/64ビット版のみ。レコードとインデックスを圧縮した後に一部のクラスターインデックスが破損することがありました（キーが重複するレコード番号を参照しています/一部のレコード参照が存在しません。）。

* ACI0094236 Mac版のみ。キーワードインデックスが設定されたテーブルでインデックス構築中にアプリケーションがクラッシュすることがありました。『[テキストのクエリや並び替えでタグを使用しない](http://doc.4d.com/4Dv15R2/4D/15-R2/Field-properties.300-2634639.ja.html)』プロパティが使用されている場合，スタイル付きテキストの``span``タグが取り除かれますが，HTMLページからペーストされたテキストのように，有効なXML構造ではない（たとえば閉じるタグがない``<br>``が含まれるHTML）データのインデックス作成で問題が発生しました。``<br />``のようにタグが整形されていれば問題ありません。

**注記**: スタイル付きテキストに閉じるタグが省略されたHTMLが保存されることがないように注意してください。修正により，クラッシュは回避されるようになりましたが，XMLとして解析できないようなデータは標準テキストとして評価されることになります。

* ACI0093284 [GET TEXT KEYWORDS](http://doc.4d.com/4Dv15R2/4D/15-R2/GET-TEXT-KEYWORDS.301-2543352.ja.html)にメモリーリークがありました。*オプションを使用しなければ問題ありません。

```
C_TEXT($txt_t)
ARRAY TEXT($motcle_at;0)

$txt_t:="a b c d e f g h i j k l m n o p q r s t u v w x y z"

Repeat 
GET TEXT KEYWORDS($txt_t;$motcle_at;*)
Until (Shift down)
```

* ACI0094035 Windows版のみ。ビルド191432以降，複数のプロセスを起動し，それぞれでウインドウを表示して一方のフォームにあるボタンをクリックした場合，最前面に移動するはずのウインドウが背面に戻り，かつ，背面に移動するはずのウインドウが部分的にアクティブであるかのように描画されました。ACI0092047でWebエリアのフォーカスに関する問題が修正されたことの副作用でした。``On Timer``イベントで[GOTO OBJECT](http://doc.4d.com/4Dv15R2/4D/15-R2/GOTO-OBJECT.301-2544236.ja.html)で使用した場合に問題がありました。

* ACI0094102 配列型のリストボックスで非表示列の配列を操作して特定の行を隠した場合，すぐに変更が反映されませんでした。リストボックスをクリックしてはじめて非表示行が消えました。

* ACI0094147 4D Serverの管理画面には，Windows 10と表示されるべきプラットフォーム名がWindow 8と表示されました。

**注記**: Windows 8.1が認識されない問題はACI0093592，[PLATFORM PROPERTIES](http://doc.4d.com/4Dv15R2/4D/15-R2/PLATFORM-PROPERTIES.301-2544208.ja.html)でWindows 10が認識されない問題はACI0094184で修正されました。

* ACI0094157 SQLを``INTO LISTBOX``でリストボックスに転送すると，オブジェクトの背景色がブラックになりました。ACI0082692が修正されたことの副作用でした。

