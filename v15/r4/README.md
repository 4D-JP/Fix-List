4D v15 R4
---
* ACI0094401  クロスタブ型クイックレポート内の時間フィールドは，[Sum](http://doc.4d.com/4Dv15/4D/15.1/Sum.301-2686264.ja.html)の計算値が正しくありませんでした。小計値は秒単位，合計値は時間単位で値が表示されました。

* ACI0094739 Windows版のみ。終了処理中にメニューバークリックするとアプリケーションがクラッシュしました。

* ACI0094935 ビルド195739以降，デザイナー（Designer）のパスワードをリセットすることができませんでした。空の文字列を入力すると，エラーが返されます。ACI0093236が修正されたことの副作用でした。

* ACI0094903 インデックスの設定されたオブジェクト型フィールドが含まれるデータファイルを圧縮すると，データファイルが無効になりました。

* ACI0094913 インデックスの設定されたオブジェクト型フィールドが含まれるデータベースのインデックスを再構築した後，[QUERY BY ATTRIBUTE](http://doc.4d.com/4Dv15/4D/15.1/QUERY-BY-ATTRIBUTE.301-2685587.ja.html)コマンドを実行すると，返されるはずのレコードが返されませんでした。

* ACI0094809 階層リストボックスに非表示行の配列が使用した場合，非表示になるべき行がそうなりませんでした。ビルド``193710``以降の問題です。

* ACI0094842 ビルド198282以降，階層リストボックスのセルに文字をタイプ入力すると，編集モードが終了しました。

* ACI0094879 ビルド198434以降，階層リストボックスのたたまれた行をクリックすると，収縮されていた行が展開されました。

* ACI0094851 何らかの理由で不正な``multipart/form-data``タイプのデータがWebサーバーに対して送信された場合，アプリケーションがクラッシュするまで無限ループに陥りました。

* ACI0093790 アプリケーションビルドの設定ファイルでスタンドアロン版の[DataFilePath](http://doc.4d.com/4Dv15R3/4D/15-R3/DataFilePath.300-2818440.ja.html)キーにデータファイルのエイリアスを指定することができませんでした。v11からv14までは問題ありませんでした。クライアント/サーバー版であれば，問題ありません。

**注記**: Windowsプラットフォームの場合，エイリアスの拡張子（lnk）はシステムの設定で非表示にされているかもしれません。それでもアプリケーションビルドの設定ファイルには完全なファイル名を含める必要があります。

* ACI0093793 ドラッグ/ドロップイベントの最中など，フォームイベントが連続発生するような場面で``ACCEPT``コマンドを使用すると，アプリケーションがクラッシュしました。Windows 7では問題ありません。

* ACI0093799 階層リストボックスに表示された配列の要素数が他よりも少なかった場合，アプリケーションがクラッシュしました。v14までは問題ありませんでした。

* ACI0093832 「マルチスタイル」プロパティが有効にされたテキスト入力オブジェクトのフォント・カラー・スタイルを表示中あるいは印刷中にコマンドで変更することができませんでした。v13までは問題ありませんでした。

* ACI0093873 Mac版のみ。[PRINT OPTION VALUES](http://doc.4d.com/4Dv15R3/4D/15-R3/PRINT-OPTION-VALUES.301-2696424.ja.html)に``Paper option``を渡した場合，第2/3引数に返される配列が逆でした。

* ACI0093926 4D Writeエリア上でハイライトされたテキストをドラッグ/ドロップした場合，テキストが移動する代わりに複製されました。v13までは問題ありませんでした。

* ACI0093885 Mac版のみ。カラーピッカーを使用した場合，スポイトツールで選択した色よりも暗い色が返されました。

* ACI0093913 [IMPORT DATA](http://doc.4d.com/4Dv15R3/4D/15-R3/IMPORT-DATA.301-2696375.ja.html)に``*``を渡さず，直接プロジェクトファイルを使用した場合，指定した文字コードの代わりに``UTF-8``でインポートが実行されました。

* ACI0093916 Window版のみ。[Print form](http://doc.4d.com/4Dv15R3/4D/15-R3/Print-form.301-2696409.ja.html)で処理したフォームは，詳細エリアの境界にかかった罫線が何度も印刷されました。XPSプレビューを介せば問題ありません。たとえば，ヘッダーの下端が71であり，70に水平線が配置されていた場合，この罫線はヘッダー印刷時に一度だけ描画されるはずですが，詳細エリア印刷時にも繰り返し描画されました。

```
$PixTlac:=Print form([Table_1];"Print_M";Form header)
For ($i;1;5)
$PixForm:=Print form([Table_1];"Print_M";Form detail)
End for 
PAGE BREAK
```

* ACI0093941 添付ファイルの名前に``/, \, :, *, ? ,", <, > ,|``いずれかの文字が含まれている場合，[MSG_Extract](http://doc.4d.com/4Dv15R3/4D-Internet-Commands/15-R3/MSG-Extract.301-2813594.ja.html)には，実際に書き出されたファイルの名前とは違う名前が返されました。禁止文字列が含まれるために``msg.msg3.txt"``のような代替ファイル名が使用された場合，配列にはその名前が返されるべきです。
* ACI0094812 Mac版のみ。OS X 10.11 El Capitanで使用した場合，4D Writeおよび4D Viewプラグインが理由でアプリケーションがクラッシュしました。

* ACI0094028 Mac版のみ。おおきな外部モニターをメイン画面として使用した場合，内部モニター（サブ画面）でクリックしたポップアップメニューの表示される位置が正しくありませんでした。 

* ACI0094773 Mac版のみ。Retinaディスプレイに表示された4D Writeエリアに対して何かをドロップすると，画面の表示が乱れました。

* ACI0094825 印刷中，リストボックスに対して[OBJECT GET BEST SIZE](http://doc.4d.com/4Dv15/4D/15.1/OBJECT-GET-BEST-SIZE.301-2685666.ja.html)を使用すると，最適高さに正しい値が返されませんでした。ACI0094776修正後の問題です。

* ACI0094778 Windows版のみ。アプリケーションビルドを何度も実行していると，フォルダー名を変更できないという趣旨のエラーメッセージが表示され，処理が中断されました。アップデートツールのマニフェストがインストールできない，というエラーが返されることもあります。

* ACI0094575 フォームエディター上で矢印キーを使用し，オブジェクトを移動した直後は，取り消し操作（Command+Z）ができませんでした。一度，Command+Zを入力した後，取り消しができるようになります。

* ACI0094001 リストボックスのヘッダーに『移動』以外のスタイルシートが設定されている場合，[OBJECT SET FONT](http://doc.4d.com/4Dv15/4D/15.1/OBJECT-SET-FONT.301-2685674.ja.html)または[OBJECT SET FONT SIZE ](http://doc.4d.com/4Dv15/4D/15.1/OBJECT-SET-FONT-SIZE.301-2685680.ja.html)でフォントを変更することができませんでした。また，ヘッダーの高さも連動して変化しませんでした。

* ACI0094131 名前のないリストをツールボックスで作成することができました。本来であれば，エラーが返されるべきです。

* ACI0094602 特定の状況で[WR PICTURE TO AREA](http://doc.4d.com/4Dv14/4D-Write/14/WR-PICTURE-TO-AREA.301-1373485.ja.html)を使用すると，アプリケーションがクラッシュしました。4D Write文書にピクチャー式を返すフォーミュラが挿入されており，そのピクチャーの表示フォーマットが『サイズ固定』だった場合，数回の1度の割合が問題が発生しました。ACI0091544の修正による副作用でした。

* ACI0094620 [METHOD SET CODE](http://doc.4d.com/4Dv15/4D/15.1/METHOD-SET-CODE.301-2685964.ja.html)で作成したSOAP公開メソッドは，Webサービスでコールすることができませんでした。手作業でメソッドを編集すれば，コールできるようになります。

* ACI0068985 メソッドエディターのオートコンプリート機能は，候補が多数（たとえば3万件以上）存在する場合，動作がとても遅くなりました。

* ACI0080477 表示フォーマットが時間型に設定されている配列リストボックスの数値配列を複製した場合，表示フォーマットがコピーされず，普通の数値列になりました。関連付けられているのが時間配列であれば問題ありません。

* ACI0085311 Mac版のみ。[PLAY](http://doc.4d.com/4Dv15R2/4D/15-R2/PLAY.301-2543166.ja.html)の非同期モードで開始したサウンドファイルの再生を下記のコマンドで停止することができませんでした。

```
PLAY("";0)
```

* ACI0089945 Windows版のみ。フィールドの名前が8文字以下の場合，アラビア文字の値が表示されませんでした。v13では問題ありません。

* ACI0090056 データベースフォルダーに対する相対パスでデフォルトHTMLルートフォルダーが設定されている場合，ビルドされたアプリケーションで，フォルダーパスが正しく表示されませんでした。たとえば，

```
.\DataBaseName\Database\Database\WebFolder
```

のようなパスは，設定画面に

```
.\DataBaseName\Database\WebFolder
```

と表示されました。

* ACI0090701 一部のアプリケーションは，コンパイルやシンタックスチェックの実行でクラッシュすることがありました。原因は，間違ったコード（下記）にありました。修正により，『変数 ? は配列ではありません』というエラーが返されるようになりました。

```
$a:=0
$b:=0
$b:=Method2 {$a}
```

* ACI0094129 [LISTBOX Get information](http://doc.4d.com/4Dv15R2/4D/15-R2/LISTBOX-Get-information.301-2544059.ja.html)は，[メモリにロードされたフォーム](http://doc.4d.com/4Dv15R2/4D/15-R2/FORM-LOAD.301-2543830.ja.html)ヘッダー/フッターの表示/非表示情報を正確に返しませんでした。

* ACI0094135 Windows版のみ。``textArea``内に``tspan``が含まれるSVGを印刷した場合，フォントサイズが10倍になりました。

```xml
<textArea height="20" width="200" x="10" y="10">Hello <tspan font-size="12">world!</tspan></textArea>
```

* ACI0094147 4D Serverの管理画面には，Windows 10と表示されるべきプラットフォーム名がWindow 8と表示されました。

**注記**: Windows 8.1が認識されない問題はACI0093592，[PLATFORM PROPERTIES](http://doc.4d.com/4Dv15R2/4D/15-R2/PLATFORM-PROPERTIES.301-2544208.ja.html)でWindows 10が認識されない問題はACI0094184で修正されました。

* ACI0094185 SQLでテーブルの名前をエイリアスとして使用することができませんでした。

```sql
SELECT * FROM aaa AS aaa;

```

* ACI0094209 データベースにパスワードを設定し，クライアント/サーバーアプリケーションをビルドした場合，ログイン画面に表示されるはずの『パスワードを保存』オプションがありませんでした。

* ACI0094212 [IMPORT TEXT](http://doc.4d.com/4Dv15R2/4D/15-R2/IMPORT-TEXT.301-2543783.ja.html)で読み込んだテキストデータが改行コード（10または13）以外で終わっている場合，データの末尾にヌル文字``0x0000``が追加されることがありました。

* ACI0094215 Windows版のみ。4D Viewあるいは4D Writeエリアにドイツ語配列のキーボードでControl+Alt+(2,3,Q,E)キーで² / ³ / @ / ?といった記号を入力することができませんでした。ビルド190461以降の問題です。

* ACI0094264 [OBJECT SET SUBFORM](http://doc.4d.com/4Dv15R2/4D/15-R2/OBJECT-SET-SUBFORM.301-2543636.ja.html)でサブフォームを切り替えた場合，直後にフォームが再描画されませんでした。[SET TIMER](http://doc.4d.com/4Dv15R2/4D/15-R2/SET-TIMER.301-2543851.ja.html)で強制的にフォームイベントを発生させれば問題ありませんでした。その場合，タイマーイベントで何がを実行する必要はありません。

* ACI0094333 Windows版のみ。Microsoft Word 2016でコピーしたテキストを4Dにペーストまたはドロップすると，最後にU+0000/U+000Aが挿入されました。Microsoft Word 2013以前であれば問題ありません。

* ACI0094374 ユーザー認証ダイアログでデザイナーのパスワード変更を試み，古いパスワードだけを入力して新しいパスワードを入力しなかった場合，エラー``-10511``（コマンド""をコンポーネントから呼び出すことはできません）が表示されました。

* ACI0094399 フォームの表示と同時にリストボックスのカラムをプログラムで並び替えることができませんでした。フォームが表示された後，クリックイベント等であれば，問題ありません。

**注記**: 回避策として``On Timer``を使用することができます。

```
Case of 
: (Form event=On Load)

  $vpLb:=OBJECT Get pointer(Object named;"tbLb")
  $vpCol1:=OBJECT Get pointer(Object named;"ttCol1")
  $vpCol2:=OBJECT Get pointer(Object named;"ttCol2")
  ARRAY BOOLEAN($vpLb->;0)
  ARRAY TEXT($vpCol1->;0)
  ARRAY TEXT($vpCol2->;0)
  APPEND TO ARRAY($vpLb->;False)
  APPEND TO ARRAY($vpCol1->;"A")
  APPEND TO ARRAY($vpCol2->;"2")
  APPEND TO ARRAY($vpLb->;False)
  APPEND TO ARRAY($vpCol1->;"B")
  APPEND TO ARRAY($vpCol2->;"1")
  APPEND TO ARRAY($vpLb->;False)
  APPEND TO ARRAY($vpCol1->;"C")
  APPEND TO ARRAY($vpCol2->;"3")

  SET TIMER(-1)

: (Form event=On timer)

  SET TIMER(0)
  カスタムソートメソッド ("tbLb";0)

End case 
```

* ACI0094431 15.1以降，Internet Commandsで添付ファイル名にドイツ語アクセント記号が含まれるメールが送信できませんでした。

* ACI0091544 Windows版のみ。サーバー側で[WR PICTURE TO AREA](http://doc.4d.com/4Dv15/4D-Write/15/WR-PICTURE-TO-AREA.301-2398605.ja.html)が使用できませんでした。

* ACI0092129 Mac版のみ。[SET PRINT PREVIEW](http://doc.4d.com/4Dv15R2/4D/15-R2/SET-PRINT-PREVIEW.301-2543565.ja.html)でプレビューが有効にされた場合，印刷ダイアログで『PDFとして保存』『PDFでメールを送信』などのオプションを選択するとアプリケーションがクラッシュしました。

* ACI0093095 [SearchPickerウィジェット](http://doc.4d.com/4Dv15R2/4D/15-R2/SearchPicker.201-2714814.ja.html)に文字を入力するたびに``On Data Change``イベントが2回，発生しました。同イベントでクエリを実行するようなアプリケーションでは，データベースに余計な負荷がかかりました。

* ACI0093236 ツールボックスでパスワードを編集した場合，第1フィールドに新しいパスワードを入力し，第2フィールドに空または別の文字列を入力した場合，エラーが表示されますが，OKボタンを2回クリックしてダイアログを閉じれば，パスワードを更新することができました。確認用の第2フィールドに意味がありませんでした。

* ACI0093284 [GET TEXT KEYWORDS](http://doc.4d.com/4Dv15R2/4D/15-R2/GET-TEXT-KEYWORDS.301-2543352.ja.html)にメモリーリークがありました。*オプションを使用しなければ問題ありません。

```
C_TEXT($txt_t)
ARRAY TEXT($motcle_at;0)

$txt_t:="a b c d e f g h i j k l m n o p q r s t u v w x y z"

Repeat 
GET TEXT KEYWORDS($txt_t;$motcle_at;*)
Until (Shift down)
```

* ACI0093505 日本語入力がオンにされている場合，フォーカスされたチェックボックスの状態をスペースバーでトグルすることができませんでした。ラジオボタンであれば，問題ありません。

* ACI0093534 メニューバーが関連づけられていないフォームを閉じた後，最前面になったウインドウのダイナミックメニューバーが再描画されませんでした。たとえば，プログレスバーコンポーネントを閉じた後に問題がありました。64ビット版では問題ありません。

* ACI0093545 Windows版のみ。[HTTP Get](http://doc.4d.com/4Dv15R2/4D/15-R2/HTTP-Get.301-2543928.ja.html)に（``http:``，``ftp:``などではない）無効なプロトコルが渡された場合，プリケーションがクラッシュしました。``image:``のようなカスタムプロトコルは，APIとして公開されていることがあります。DNSクエリでクラッシュするのは間違いです。

* ACI0093919 [DatePickerウィジェット](http://doc.4d.com/4Dv15R2/4D/15-R2/DatePicker-and-DateEntry.300-2714815.ja.html)とテキストフィールドが同一のフォームに表示されていた場合，上下矢印キーの入力でテキストエリア内でカーソルが移動する代わりに日付が変わりました。

* ACI0094002 [SVG SET ATTRIBUTE](http://doc.4d.com/4Dv15R2/4D/15-R2/SVG-SET-ATTRIBUTE.301-2542980.ja.html)にアスタリスクオプションを添えてピクチャフィールドの属性を書き換えた場合，ピクチャを更新したことにはならず，フィールドを保存したり，[PICTURE TO BLOB](http://doc.4d.com/4Dv15R2/4D/15-R2/PICTURE-TO-BLOB.301-2544177.ja.html)で変換しても，古い画像のままでした。

* ACI0094039 Windevによる4D ODBC Driverを介したデータ取得ができませんでした。Windev製品特有のSQLリクエストを処理するために，DSNの新しいオプション『Windev』が追加されました。

* ACI0094061 テキスト入力オブジェクトのタイプを変数からフィールドに変更するたびに，オブジェクトの高さが1ずつ増えてゆきました。結果的に，自動スタイルシートもはずされてしまいました。

* ACI0093970 コンパイラー画面に表示されるメッセージが文字化けしました。

**注記**: コンパイルパスが「すべて定義する」に設定されている場合の問題は未修正です。(ACI0095036)

* ACI0093983 [SMTP_SetPrefs](http://doc.4d.com/4Dv15R3/4D-Internet-Commands/15-R3/SMTP-SetPrefs.301-2813547.ja.html)で``UTF-8``以外のエンコーディングを設定しても，メールの件名には``?utf-8?``の文字列が含まれていました。

* ACI0093988 Mac版のみ。[CONVERT FROM TEXT](http://doc.4d.com/4Dv15R3/4D/15-R3/CONVERT-FROM-TEXT.301-2695703.ja.html)で日本語を``ISO-202-JP``に変換しようとすると，``Error in user parameter list (paramErr)``というエラーが返されることがありました。

* ACI0093995 クイックレポートを4D Viewに出力した場合，アクセント文字が正しく書き出されませんでした。

* ACI0093996 クイックレポートをHTMLに出力した場合，余分な改行コードがセル値の後に挿入され，MS Excelなどで開いたときに余計な空白文字が表示されました。修正により，列名および文字列値は``<p>``タグで出力されるようになりました。

```html
<p>String stuff</p>
```

* ACI0094008 ビルドされたOEM版のクライアントサーバーで，自動アップグレードが有効にされていた場合，一時フォルダー``$TempoClient``内の``Info.json``ファイルに書き出されるIPアドレスとポート番号の値は，最新のものではありませんでした。そのため，自動アップグレード完了後，クライアントがサーバーに再接続できないことがありました。ストラクチャ設定が変更された場合に問題が発生します。ユーザー設定を使用していれば問題ありません。

* ACI0094010 日本語オペレーションシステムで日付フォーマットの``Internal date long``が正しく処理されませんでした。この日付フォーマットは英語表記であるべきです。

* ACI0094035 Webエリア関連の不具合 (ACI0092047) の修正により，オブジェクトにフォーカスが移動した場合，そのオブジェクトのウインドウがアクティブになるようになりました。そのため，タイマーイベントでフォーカスを移動するようなロジックでフォーカスの奪い合いが発生してしまいました。

* ACI0094042 Windows版のみ。Internet Explorer 11からマルチスタイルテキスト入力エリアに``<br>``が含まれる文字列をペーストした場合，``<br>``の以降のテキストが無視されました。Firefoxであれば問題ありません。

* ACI0094058 Wakanda 10 Enterpriseから4D Mobileで接続し，[HTTP Get](http://doc.4d.com/4Dv15R3/4D/15-R3/HTTP-Get.301-2696227.ja.html)を使用するようなメソッドを呼び出すと，アプリケーションがクラッシュしました。

* ACI0094335 Windows版のみ。新ネットわーうレイヤー (ServerNet) が有効にされている場合，アプリケーションが不安定になりました。

* ACI0094346 オブジェクト型フィールドに空のプロパティ名を保存することができてしまいました。そのような値がフィールドにアクセスすると，アプリケーションがクラッシュしました。また，コマンドやSQLでレコードを削除すると，データファイルの検証で異常が検出されました。

**注記**: JSONの仕様上，空のプロパティ名は認められています。

* ACI0094821 ウインドウを閉じた後，一部のメニューアイテムが機能しなくなりました。同一のメニュー番号が複数のプロセスで使用されていた場合に問題が発生しました。

* ACI0094824 Mac版のみ。終了・環境設定・...についてメニューが効かないことがありました。

* ACI0093304 リストボックスの行の高さが（ピクセルではなく）行単位で設定されている場合，フォントサイズを変更した直後に使用された[LISTBOX Get rows height](http://doc.4d.com/4Dv15R3/4D/15-R3/LISTBOX-Get-rows-height.301-2695430.ja.html)から返される値が正しくありませんでした。変更前のフォントサイズに基づいて高さが計算されました。

* ACI0093432 Windows版のみ。v13/14では問題のなかった再帰的なメソッドが，v15ではメモリ不足によりコンパイルモードでクラッシュしました。

**参考**: v15では，参照型の変数やポインターなどのローカル変数が以前のバージョンよりも多めのスタックサイズを必要としています。修正により，32ビット版に限り仮想メモリと同じだけ物理メモリにスタックが取られるようになりました。また，イニシャルコミットサイズが64KBから128KBに引き上げられました。問題はWindowsのメモリ管理と関係があるようです，

* ACI0093464 ピクチャの圧縮に問題がありました。詳細: http://forums.4d.fr/Post/EN/12922603/1/12929014#12929014

* ACI0093488 ``4D:database_name``シンタックスを使用し，4D v15から4D Server v15にSQLで接続することができませんでした。エラー9918が返されます。v14からv15に接続することはできます。

* ACI0093098 Mac版のみ。ヒラギノ系など，デセントがおおきなフォントをリストボックスに表示し，垂直整列を「中央」または「下」に設定した場合，qpyjçのような文字のぶらさがりが完全に表示されませんでした。 

* ACI0093137 カスタム定数にウムラウト記号が含まれている場合，その定数を配列のインデックスで使用すると，コンパイル時にエラーが返されました。

```
ARRAY TEXT($x;100)
$x{TM_öäüß}:="Surprise"
ALERT(String($x{TM_öäüß}))
```

* ACI0092296 階層リストの0番アイテムを選択しようとすると，アプリケーションがフリーズしました。

```
SELECT LIST ITEMS BY POSITION(*;"dynamic_list";0) 
```

* ACI0092586 マルチスタイルテキスト入力エリアでは，URL文字列が自動的にハイパーリンクになりましたが，URLにカッコ記号が含まれていた場合，その手前でリンクが切られてしまいました。v12では問題ありませんでした。

**注記**: 回避策としてカッコ記号を``%28``および``%29``でエスケープすることもできます。

* ACI0092821 ビルド設定ファイルの``DataFilePath``キーに相対パスを指定することができませんでした。v13までは問題ありませんでした。

* ACI0093091 SQLクエリにアクセント記号が含まれていた場合，正しい結果が返されませんでした。

* ACI0091008 4D Server上でメソッドをトレースし，マウスポインターをコマンド名に重ねると，コマンドの説明ではなくXLIFFリソース名が表示されました。

* ACI0094085 リストボックスのセルを編集中にフォーカス化ではない（したがって編集を確定しない）ボタンのメソッドでリストボックスの配列から編集中の行を削除すると，アプリケーションがクラッシュしました。

* ACI0094096 透過色が含まれるGIFアニメをフォームに表示した場合，画像が完全に再描画されませんでした。透過ピクセルに前の色が残されることがありました。

* ACI0094103 Windows版のみ。フォントピッカーが正しくローカライズされていませんでした。ウインドウタイトルは常に『Font』であり，さらにフォントをみるためのボタンはシステム言語ではなく，4Dのローカライズ言語に基づいていました。

* ACI0094110 Mac版のみ。[OBJECT Get horizontal alignment](http://doc.4d.com/4Dv15R2/4D/15-R2/OBJECT-Get-horizontal-alignment.301-2543614.ja.html)は，プラグインエリアの高さに対して常に``0``を返しました。

* ACI0094128 フォームエディターのプロパティリストで『◀︎』『▶︎』ボタンをクリックすると，オブジェクトが切り変われる代わりにBEEP音が鳴りました。

* ACI0094285 リストボックス内に表示されたブール型フィールドのポップアップメニューは，行がハイライトされている場合，マウスオーバーでテキストカラーが変化しました。

* ACI0094286 [HTTP SET OPTION](http://doc.4d.com/4Dv15R2/4D/15-R2/HTTP-SET-OPTION.301-2543932.ja.html)に定数``HTTP reset auth settings``を指定しても，認証情報がリセットされませんでした。第2引数に``0``が渡された場合は問題ありません。

* ACI0094227 [SMTP_Body](http://doc.4d.com/4Dv15R2/4D-Internet-Commands/15-R2/SMTP-Body.301-2666788.ja.html)は，ユーロ通貨記号``€``以降のテキストを返しませんでした。

* ACI0094252 Mac版のみ。フォームをリサイズし，ウインドウのスクロールバーが不要な寸法のときに4D Writeエリアのズームボタンをクリックしてプラグインエリアを最大化しようとすると，アプリケーションがクラッシュしました。

* ACI0094189 アイテム数が0のコンボボックスをクリックし，下矢印キーを入力すると，アプリケーションがクラッシュしました。

* ACI0094214 Mac版のみ。オブジェクトメソッドを消去した場合，ウインドウの閉じるボタンが変化して，フォームが変更されたことが示されるはずですが，そうなりませんでした。

* ACI0094150 Internet Commandsでメールを送信すると，SMTPのヘッダーに``charset="utf - 8"``といった文字列がセットされました。ハイフンの前後に余計なスペースが存在するため，一部のメールクライアントでメッセージが正しく表示されませんでした。

同じことが下記のエンコーディングでも発生していました。ビルド189084以降の問題です。

```
us-ascii
iso-8859-1
iso-2022-jp
iso-2022-kr
iso-2022-cn
hz-gb-2312
```

* ACI0094156 Windows版のみ。クイックレポートで作成したデータにひとつ以上の空白文字が含まれている場合，プレビューやプリンターで空白の数だけ空行が出力されました。ACI0090654が修正されたことの副作用でした。

* ACI0094158 ``On Outside Call``フォームイベントで[ACCEPT](http://doc.4d.com/4Dv15R2/4D/15-R2/ACCEPT.301-2542997.ja.html)を実行した場合，直ちにフォームは閉じられず，次のフォームイベントまでアクションが遅延されました。

* ACI0094179 Mac版のみ。El Capitanプラットフォームでウインドウが最前面にない場合，disabled状態のボタン・チェックボックス・ラジオボタン・ポップアップメニューのテキストがenabledであるようなフォントカラーで表示されました。

ACI0090073 The call of 'OBJECT Get list name' or 'OBJECT Get list reference' that doesn't work.

* ACI0086874 4D Viewを使用中に，ドイツ語キーボートでControl+Alt+2を入力した場合，³ではなく，3³がタイプされました。スイス地域キーボートでControl+Alt+2を入力した場合，@ではなく，2@がタイプされました。

* ACI0078377 リストボックスにある種の列（非表示・入力不可など）が含まれる場合，フォームエディター上でそのような列を複製すると，幅が0ピクセルの列が追加されました。プロパティリストで幅を調整しようとしても，変更できません。修正により，リストボックス列の『幅』と『非表示』の関係が明確に分けられました。

* ACI0082692 [LISTBOX INSERT ROW](http://doc.4d.com/4Dv15R2/4D/15-R2/LISTBOX-INSERT-ROWS.301-2544053.ja.html)は，``On Load``で実行された場合，常に1行目に行を挿入しました。他のタイミングであれば問題ありません。代替案として[INSERT IN ARRAY](http://doc.4d.com/4Dv15R2/4D/15-R2/INSERT-IN-ARRAY.301-2543205.ja.html)または[APPEND TO ARRAY](http://doc.4d.com/4Dv15R2/4D/15-R2/APPEND-TO-ARRAY.301-2543232.ja.html)を使用することもできます。本来，``On Load``のタイミングでは，リストボックスは空であるという前提でコーディングされるべきでした。修正により，配列とリストボックスの同期メカニズムが見直され，``On Load``でも任意の場所に行が挿入できるようになりました。

* ACI0085300 アップグレードにより[接続リストボックス](http://doc.4d.com/4Dv15R2/4D/15-R2/List-box-specific-properties.300-2634737.ja.html)に変換されたグループ配列（スクロールエリア）を複製あるいはコピー・ペーストすると，フッターとヘッダーのオブジェクト名が重複しました。

* ACI0093680 Windows版のみ。Classicテーマが適用されているシステムでスタイル付きのポップアップメニューを表示した場合，ラベルテキスト右側のスペースが足りませんでした。標準ポップアップメニューは問題ありません。

**注記**: Aeroテーマでスタイル付きポップアップメニューと標準ポップアップメニューの幅が違っているのは仕様です。

* ACI0093713 [IT_ErrorText](http://doc.4d.com/4Dv15R2/4D-Internet-Commands/15-R2/IT-ErrorText.301-2666715.ja.html)に-32768よりも小さいエラー番号を渡すと，アプリケーションがクラッシュしました。

* ACI0093717 自動バックアップが『毎週日曜日』に設定されているデータベースを手動でバックアップした場合，次回のバックアップが月曜日に予定されました。

* ACI0093734 Mac版のみ。リストボックスのフッターとレコードの間，およびフッター同士の間に区切り線が表示されませんでした。

* ACI0093744 Windows版のみ。空のコンボボックスをクリックするとアプリケーションがクラッシュしました。

* ACI0093761 Windows版のみ。ネイティブWebエリアでは，関数型オブジェクトを評価（実行）することができませんでした。修正により，WebエリアにロードされたURL，つまり直接HTMLの中に記述された関数であれば，フォームが実際にロードされた後に関数の戻り値を受け取ることができるようになりました。しかし，ネイティブ関数オブジェクト（例: Date.parse）の戻り値を受け取ることはできません。これはActiveXコントロールの制約です。

**参考記事:** [WindowsネイティブWebエリアの制約](http://www.4d.com/jp/blog/native-web-area-on-windows.html)

* ACI0093774 SVGコンポーネントのコマンドで作成したSVGファイルは，ビューアに正しく表示されないことがありました。

* ACI0093779 Mac版のみ。すでに別バージョンの4DでHTTPサーバーが起動しているマシンで[WEB START SERVER](http://doc.4d.com/4Dv15R3/4D/15-R3/WEB-START-SERVER.301-2695934.ja.html)を使用した場合，エラーは返されず，``OK``システム変数には``1``が代入されました。

**注記**: Mac版の4Dで初めてHTTPサーバーを起動すると，HelperToolがインストールされます（1023以下のポート番号）。v14およびv15でインストールされるのは，バージョン4のHelperToolです。このバージョンのHelperToolは，``REUSEADDR``オプションが``true``に設定されているため，すでに占有されているポート番号を検出できないことがあります。修正により，``WEB START SERVER``を使用した場合，あるいは実行メニューからHTTPサーバーが起動された場合に限り，新しいHelperToolがインストールされるようになりました。一方，HTTPサーバーを起動時に開始するようにデータベースが設定されている場合，引き続き，古いバージョンのHelperToolが使用されます。これは，問題が特にないアプリケーションで不必要なHelperToolのインストール（管理者パスワードが必要）を避けるための処置です。

* ACI0094332 v14以前に作成されたクイックレポート定義ファイルのカラムフォーミュラーにリテラル文字列が含まれている場合，v15でリテラル文字列部分が化けました。

* ACI0094438 リストボックスのダブルクリック時アクション『レコード編集』で入力フォームを開いた場合，そのフォームに4D Writeエリアが存在すると，そのエリアにはカーソルが表示されませんでした。

* ACI0094485 ビルドしたアプリケーションの動作が不安定でした。ビルド194902以降の問題です。[ACI0089829](https://github.com/4D-JP/release-notes/tree/master/v15/15.1/hf1)修正の副作用でした。

* ACI0094492 引数の関節参照に値を代入することができませんでした。ビルド196080以降の問題です。コンパイラー/シンタックスチェックが『無効な定数型です』エラーを出力します。ACI0094499（下記）と関連があります。問題が発生するコードの例:

```
C_LONGINT(${1})
${1}:=3
```

* ACI0094497 [ピクチャボタン](http://doc.4d.com/4Dv15/4D/15.1/Picture-Buttons.300-2679559.ja.html)の『マウスアップで戻る』プロパティが有効にされている場合，『ボタン押下中は自動更新』の値に関係なく，ボタン押下中は自動更新されました。

* ACI0094547 Mac版のみ。メソッドエディターの展開/収縮アイコン（三角形）とブロックの終端を結ぶ縦ラインの位置が揃っていませんでした。

* ACI0094898 [Replace string](http://doc.4d.com/4Dv15R3/4D/15-R3/Replace-string.301-2695698.ja.html)で正しく文字列が置換されない場合がありました。

```
$string:="aaaa aaaa aaaa aaaa"
$string:=Replace string($string;"aaaa";"xxxx";*)
ALERT($string)
// The result is"xxxx aaaxxxxaa aaa"
```

* ACI0092729 サブディスプレイ内で閉じられた場合，[Open form window](http://doc.4d.com/4Dv15R3/4D/15-R3/Open-form-window.301-2695382.ja.html)に``*``オプションを指定して開いたウインドウの位置が保持されませんでした。

* ACI0094757 Mac版のみ。64ビット版の4D Serverで「データベース設定」メニューを選択すると，「終了」ダイアログが表示されました。

* ACI0094839 Windows版のみ。64ビット版の4Dで進捗バーオプションを指定して[FTP_Receive](http://doc.4d.com/4Dv15R3/4D-Internet-Commands/15-R3/FTP-Receive.301-2813588.ja.html)に使用すると，アプリケーションがクラッシュしました。

**注記:** 64ビット版の4D Internet Commandsでは，ダイアログの表示がサポートされていないことに留意してください。

* ACI0094632 ``PRINT LABEL([MyTable])``を実行しても，ラベルエディターが起動しませんでした。また，``PRINT LABEL([MyTable];*)``を実行しても，印刷が始まりませんでした。

* ACI0094633 ``Alt``キーを押しながら操作をしても，複数のリストボックス行をドラッグすることができませんでした。``Alt``キーを押さえていても，クリックで選択が解除されてしまいました。15R3では問題ありませんでした。

* ACI0095016 "Web Application Expansion for 4D Client"ライセンスのアクティベーションができませんでした。ライセンス番号は認識されますが，ブラウザからアクセスすると，エラーページが返されました。

* ACI0094921 4D Writeドキュメントを4D Write Proで開くと，フォーミュラーの参照が正しくインポートされないことがありました。

**注記**: 存在しないテーブルやフィールドが参照されている場合，当然，エラー48が返されます。[SET ALLOWED METHODS](http://doc.4d.com/4Dv15R3/4D/15-R3/SET-ALLOWED-METHODS.301-2696335.ja.html)で許可されていないメソッドも同様です。

* ACI0094667 間違ったパスワードを送信するとLDAPコマンドでアプリケーションがクラッシュしました。

```
LDAP LOGIN($url;$dn;$pwd;LDAP password plain text)
```

* ACI0094972 デザインモードの「メソッド」メニューが表示されないことがありました。

* ACI0094654 新ラベルエディターで「レイアウト」ページに画面を切り替えようとすると，エラー59が返されました。

* ACI0094822 ``$4DEVAL``, ``$4DHTML``, ``$4DTEXT``が含まれる文字列を作成し，WEB SEND系コマンドで処理すると，コードが実行されました。

**注記:** 修正により，下記のコマンドでは$シンタックスの新しいタグが評価されないようになりました。

```
WEB SEND TEXT
WEB SEND BLOB
WEB SEND FILE
```

* ACI0094512 "4D SQL Desktop"ライセンスのアクティベーションができませんでした。ライセンス番号は認識されますが，[SQL LOGIN](http://doc.4d.com/4Dv15R3/4D/15-R3/SQL-LOGIN.301-2695340.ja.html)コマンドを実行するとライセンスまたはアクセス権エラーが返されました。

* ACI0094283 リストボックスのヘッダーをダブルクリックした場合，[Clickcount](http://doc.4d.com/4Dv15R3/4D/15-R3/Clickcount.301-2696298.ja.html)から``2``が返されませんでした。

* ACI0094661 ランタイムエクスプローラーをダブルクリックするとアプリケーションがクラッシュしました。

* ACI0094506 v13では，クイックレポートに出力された数値または日付データは，セルの幅が足りない場合，セルの高さが許容すれば値が降り返されましたが，v15では，日付は切り捨てされ，数値は隣のセルに重なって出力されるようになりました。

* ACI0094800 マルチターゲットコンパイルを有効にして64ビット版のクライアント/サーバーアプリケーションをビルドした場合，64ビットのコードだけが出力され，32ビット版のクライアントからサーバーに接続することができませんでした。

* ACI0094210 メッセージのUID形式が複雑な場合，[POP3_MsgLstInfo](http://doc.4d.com/4Dv15R3/4D-Internet-Commands/15-R3/POP3-MsgLstInfo.301-2813566.ja.html)でアプリケーションがクラッシュする恐れがありました。

```
1448628477.M436576P30965V0000000000000803I000000000A4C0ED7.bianca.kr eativmedia.ch,S=2223
```

* ACI0094522 Mac版のみ。64ビット版で第2パラメーターが指定された[ORDER BY FORMULA](http://doc.4d.com/4Dv15R3/4D/15-R3/ORDER-BY-FORMULA.301-2695526.ja.html)コマンドをコンパイルすると，アプリケーションがクラッシュしました。

* ACI0094760 64ビット版のみ。新規プロセスのウインドウに設定されたメニューバーが機能しませんでした。

**注記**: 以前のバージョンでは，フォームのプロパティリストで「アクティブメニューバー」が有効にされている必要がありました。そうでないフォームは，[SET MENU BAR](http://doc.4d.com/4Dv15R3/4D/15-R3/SET-MENU-BAR.301-2695055.ja.html)でメニューバーを設定しても，メニューがアクティブになりません。これは32ビット版の仕様です。ただし，コマンドで作成されたメニューバーの管理に問題がありました。今回の修正により，64ビット版のメニュー管理が見直されました。

* ACI0094597 ``LOG FILE TO JSON``コマンドのシンタックス処理が間違っていました。第3パラメーターが指定された場合，第4パラメーターも必須となりました。

* ACI0094572 モーダル画面から[ALERT](http://doc.4d.com/4Dv15R3/4D/15-R3/ALERT.301-2695073.ja.html)コマンドを実行した場合，アラートを閉じた後にオブジェクトのフォーカスが戻りませんでした。

* ACI0094655 新ラベルエディターでテンプレートファイル（拡張子4LBPまたは4LB）を読み込もうとすると，エラー``-20003``が返されました。

* ACI0094855 Mac版のみ。PluginAPIの[PA_Dial4DWindowFromDial4D](http://sources.4d.com/trac/4d_4dpluginapi/wiki/CMU84403.HTM)は常に``NULL``を返しました。
