[4D v14 R5](http://forums.4d.fr/Post/EN/16080071/0/0/)
---

*ペータ版開発中に発生した問題*

**ACI0091370** **R5（Mac）**: マルチスタイルテキストにURLを挿入した場合，そのリンクを開くことができませんでした。これまで入力可のテキスト内でURLを開くために使用されていたControl+クリック（Mac）は，Command+クリックに変更されました。Control+クリックは，コンテキストメニューを開くための標準的な操作だからです。

**ACI0091295** **R5（Mac:Yosemite）**: テキストエリアのコンテキストメニュー・フォントリストにHelveticaがアルファベット並び順の観点から間違った位置に何度も出現しました。その項目を選択すると，いつも"A"から始まる最初のフォントが選択されました。

**ACI0091293** **R5** コンボボックスのOn Before Keystroke, On After Keystroke, On After Editいずれかのイベントでデバッガを表示することができませんでした。

**ACI0091277** **R5 （Windows 8.1）** 画面の解像度を125%に設定した場合，リストボックスのセルを2度クリックして編集すると，文字列が間違った順序で入力されました（例: Test->estT, 4D->D4）。画面の解像度が100%であれば問題ありません。

**ACI0091042** **R5（Windows）** SVGの```textArea```要素の```font-family```属性に複数のフォント名を列挙した場合，最初のフォントだけが認識されました。そのフォントが存在しないのであれば，後続のフォントで代用されるべきです。

**ACI0091039** **R5** [SELECT LIST ITEMS BY POSITION](http://doc.4d.com/4Dv14/4D/14.3/SELECT-LIST-ITEMS-BY-POSITION.301-1696757.ja.html)で階層リストの項目を選択することができませんでした。

**ACI0087708** **R5（Mac）** 4D Server v13が起動しているマシンで[新しいServerNetネットワークレイヤー](http://doc.4d.com/4Dv14R5/4D/14-R5/New-ServerNet-Network-Layer.300-1736906.ja.html)が有効にされたサーバーを起動した場合，クラッシュすることがありました。

**ACI0087829** **R5（Mac）** ピクチャポップアップメニューをクリックすると，直後にアプリケーションがクラッシュしました。

---

*R4以降で発生した問題*

**ACI0088493** **R4** ストラクチャーエディターのインスペクターで重複不可フィールドにインデックスを設定した場合，選択したタイプではないインデックスが設定されました。コンテキストメニューからインデックスタイプを選択した場合は問題ありません。

**ACI0090207** **R4** [OBJECT SET VISIBLE](http://doc.4d.com/4Dv14/4D/14.3/OBJECT-SET-VISIBLE.301-1696986.ja.html)で別のオブジェクトのプロパティまでが変更されることがありました。

**ACI0090977** **R4** ランタイムエクスプローラーの《プロセス》タブのラベルが欠落しており，XLIFFリソース名がそのまま表示されていました。

**ACI0090973** **R4（Mac）** [ST Get Plain Text](http://doc.4d.com/4Dv14/4D/14.3/ST-Get-plain-text.301-1696524.ja.html)にパラメーター（例: $1）を渡した場合，アプリケーションがクラッシュしました。変数であれば問題ありません。

**ACI0090520** **R4** 4D Viewにポインター（$areaPtr->）の引数を渡すことができませんでした。

**ACI0090744** **R4** 日本語版のみ，作成したリストボックスの変数名が正常ではありませんでした。ヘッダーは《Footer1》列は《Header1》フッターは《Composite Button1》といったデフォルトの変数名が付けられました。

**ACI0090732** **R4** 階層リストの項目が右クリックされたタイミングでタイマーイベントを開始した場合，直後にフォームのOn Timerイベントは発生せず，次に何かをクリックしたタイミングで発生しました。

**ACI0090646** **R4（Mac）** Resourcesフォルダーに何も変更がなかったとしても，クライアントが接続するたびにリソースの同期が実行されました。ネットワークレイヤーの新旧は関係ありません。

**ACI0090606** **R4（Windows）** 4D Viewエリアの内容をコマンドで変更した後，ウィンドウが正常に再描画されませんでした。また，ウィンドウを最善面に移動した後，背後にあるウィンドウの重なった部分がグレーのままでした。いずれかのウィンドウ上でオブジェクトをクリックすれば，再描画の問題は解消されます。

**ACI0090599** **R4** メニュー選択がキャンセルされた場合，[Pop up menu](http://doc.4d.com/4Dv14/4D/14.3/Pop-up-menu.301-1697629.ja.html)は0を返すはずですが，-1が返されました。

**ACI0090677** **R4** [LISTBOX GET ARRAYS](http://doc.4d.com/4Dv14/4D/14.3/LISTBOX-GET-ARRAYS.301-1696835.ja.html)は，リストボックスに設定されたスタイル配列（最高4個）を返し，配列が設定されていない項目については，NILを返すはずですが，そのような場合に間違った配列（すでに返された配列）が返されるようになりました。

---

*R3以降で発生した問題*

**ACI0089464** **R3** エクスプローラーで複製されたフォームに配置されたボタンなどのオブジェクト削除すると，元のフォームに配置されたオブジェクトのメソッドが消えることがありました。

**ACI0091017** **R3** [EXPORT TEXT](http://doc.4d.com/4Dv14/4D/14.3/EXPORT-TEXT.301-1696767.ja.html)でレコードを書き出した場合，200件の倍数だけが正常で，残りのレコードはデータが空でした。

**ACI0090441** **R3（Windows 8.1）** タイマーイベントでCPU使用率が急上昇しました。問題の深刻度は，コンピューター搭載されているCPUの数に左右されました。

**ACI0089734** **R3** [ST Get content type](http://doc.4d.com/4Dv14/4D/14.3/ST-Get-content-type.301-1696511.ja.html)は，未知のタグタイプに対して```ST Unknown tag type``` (4) ではなく```ST Plain type``` (0) を返しました。

**ACI0089644** **R3** [OBJECT SET COLOR](http://doc.4d.com/4Dv14/4D/14.3/OBJECT-SET-COLOR.301-1696981.ja.html)は，入力不可の変数に対して効果がありませんでした。フィールドまたは入力可の変数であれば問題ありません。

**ACI0089382** **R3（Mac）** ODBCアドミニストレーターにデータソース名（DSN）を入力した場合，ODBCドライバーDSNダイアログが表示される代わりに，キー/値を入力するODBCアドミニストレーターの画面が表示されました。

---

*R2以降で発生した問題*

**ACI0089956** **R2（Mac:Yosemite）** OS X Yosemiteで[GET SYSTEM FORMAT](http://doc.4d.com/4Dv14/4D/14.3/GET-SYSTEM-FORMAT.301-1697509.ja.html)から期待される日付フォーマットが返されませんでした。```dd/MM/yy```の代わりに```d/M/yy```が返されました。

**ACI0089219** **R2** *AreaList Pro*プラグインのセルを編集中に```Tab```キーを入力しても，次のセルに移動しませんでした。

---

*14.xに元から存在した問題*

**ACI0090448** Mac版のみ。フォームエディターでオブジェクト群をペーストボードにコピーし，そのデータをBLOBに保存した場合，後に別のフォームにそのデータをペーストすると単なる画像がペーストされることがありました。

**ACI0090402** Mac版のみ。4D Writeのエリアにトレマ/ウムラウトやシルコムフレックスなどのアクセント記号を文字との組み合わせで入力することができませんでした。

**ACI0090401** [FORM LOAD](http://doc.4d.com/4Dv14/4D/14.3/FORM-LOAD.301-1696723.ja.html)でメモリにロードしたフォームに対し，[OBJECT DUPLICATE](http://doc.4d.com/4Dv14/4D/14.3/OBJECT-DUPLICATE.301-1697007.ja.html)でサブフォームまたはWebエリアを複製しようとすると，アプリケーションがクラッシュしました。

**ACI0090364** Mac版のみ。選択リストが関連づけられたリストボックスのセルを編集中に上下の矢印キーを入力すると，アプリケーションがクラッシュしました。

**ACI0091628** [SET LIST ITEM PARAMETER](http://doc.4d.com/4Dv14/4D/14.3/SET-LIST-ITEM-PARAMETER.301-1696736.ja.html)にオブジェクト名を渡した場合，項目の右側に表示される付加的なテキスト (Additional text)が設定できませんでした。変数名を指定した場合は問題ありません。

**ACI0091086** OS Yosemiteのみ，[PRINT SELECTION](http://doc.4d.com/4Dv14/4D/14.3/PRINT-SELECTION.301-1697079.ja.html)コマンドでリストフォームをプリントアウトすると，一部の入力可フィールドが灰色の四角形として印刷されました。フィールドが入力可でなければ問題ありません。

**ACI0090567** アプリケーションビルドの画面で，Masterの行を選択してから削除ボタンをクリックした場合，そのライセンスに関連付けられたExpansionの行にはMasterの番号がそのまま表示されていました。削除されたMasterの番号は空欄になるべきでした。

**ACI0090541** クライアント/サーバー版で[METHOD SET CODE](http://doc.4d.com/4Dv14/4D/14.3/METHOD-SET-CODE.301-1696574.ja.html)を実行した場合，サーバーが終了することがありました。

**ACI0090540** Mac版のみ。マルチスタイルで《プリント時可変》のオブジェクトをプリントアウトした場合，境界線が正常に印刷されないことがありました。一部の側面が欠落していたり，完全に省略されたりしました。

**ACI0090190** Windows版のみ。ドロップダウンリスト内のアンパーサンド記号（&）の代わりにアンダースコア（_）が表示されました。

**ACI0090363** Mac版のみ。```fill```属性に```none```が指定されたSVGをプリントアウトすると，黒く塗りつぶされたように出力されました。

**ACI0090218** [WEB SEND RAW DATA](http://doc.4d.com/4Dv14/4D/14.3/WEB-SEND-RAW-DATA.301-1697690.ja.html)でHTTPヘッダーの```Date```を任意の日付に変更することができませんでした。日付の文字列に含まれるコロン（:）が誤って解析されるために，後続のヘッダーが崩れてしまい，```Content-Type```が自動的に```application/octet-stream```に設定されたり，```Server```や```Date```などもデフォルトの値が返されました。

**ACI0090337** Webプロセスの実行コンテキストでカレントユーザーが正常に初期化されないことがあり，そのために忙しいアプリケーションでは突発的にサーバーがクラッシュすることがありました。アプリケーションプロセスが不正に使用され，同時に複数のデーターベースコンテキストが同一の4Dプロセスから呼ばれることがあり得るためでした。

**ACI0090178** Mac版（Yosemite）のみ。v13から変換した場合，自動スタイルシートが設定されたテキスト入力エリアの高さが変わってしまうことがありました。日本語・フランス語・スペイン語・ポルトガル語版で問題が発生しました。大抵，オブジェクトの高さは16から13に縮小されました。問題は修正されていますが，変換時に**システム環境設定で第一言語（最上位）に設定されている言語と4Dの言語が一致していることが必要です*。

**ACI0088506** [OB Get](http://doc.4d.com/4Dv14/4D/14.3/OB-Get.301-1696531.ja.html)に定数```Is text```を渡した場合，文字列が32,000までしか返されませんでした。

**ACI0088315** Mac 64 bit版のみ。[PAGE SETUP](http://doc.4d.com/4Dv14/4D/14.3/PAGE-SETUP.301-1697070.ja.html)を使用した場合，設定した内容が印刷に反映されませんでした。 
**ACI0090132** Windows版のみ。On Resizeイベントでウィンドウサイズに合わせてスプリッター変数の位置を連続的に移動した場合，スプリッターの位置は最後のリサイズイベントまで実際には変わらないため，位置が数ピクセルずれてしまいました。v13では問題ありませんでした。

**ACI0090150** 32,767枚以上のウィンドウを作成した場合，アプリケーションがフリーズしました。たとえば，多数のプロセスを作成したり，頻繁に自動バックアップを実行したようなときに問題が発生しました。

**ACI0090155** Mac版（Yosemite）のみ。特定の画像をピクチャ変数にドラッグ＆ドロップしたり，[GET PASTEBOARD DATA](http://doc.4d.com/4Dv14/4D/14.3/GET-PASTEBOARD-DATA.301-1697029.ja.html)で読み取ろうとすると，アプリケーションがクラッシュしました。

**ACI0090118** Windows 8.1のみ。システムWebエリアが表示されている場合，同じフォーム上に配置されたテキストエリアには文字列を入力することができませんでした。

**ACI0090116** [SET UPDATE FOLDER](http://doc.4d.com/4Dv14/4D/14.3/SET-UPDATE-FOLDER.301-1696590.ja.html)でストラクチャフォルダーの親フォルダーを指定した場合，自動更新コマンドを実行するとアプリケーションがごみ箱に移動されてしまい，更新を完了することができませんでした。

**ACI0082036** データベースの名称に括弧が含まれている場合，そのデータベースは《最近使用したデータベース》メニューから起動することができませんでした。

**ACI0082468** Windows版のみ。コードエディターに表示されるタイプアヘッドの候補ウィンドウに余計な水平スクローバーが表示されてしまい，内容が隠れてしまうことがありました。日本語システム特有の問題です。

**ACI0083377** Windows版のみ。新規スタイルシートを作成した場合，デフォルトのフォント名は《Meiryo UI》であるべきですが，《Segoe UI》でした。日本語システム特有の問題です。

**ACI0084154** リストボックスの幅が1ピクセル余計に計算されることがありました。たとえば，《フッター表示》を有効にしてから無効にした場合など，フォームエディターを閉じてから開き直すと，リストボックスの幅が1ピクセル増え，必要のない水平スクロールバーが表示されたりしました。

**ACI0076706** 4D View文書の背面に配置されたピクチャは，行の繰り返しを有効にしてプリントアウトした場合，背面に挿入されていないときとは違う位置に印刷されました。

**ACI0084539** 起動時にWebサーバーを開始するようにデータベースが設定されていた場合，On Startupデータベースイベントでモーダルダイアログ（例: [ALERT](http://doc.4d.com/4Dv14/4D/14.3/ALERT.301-1696909.ja.html)）を表示すると，Webサーバーの起動に失敗しました。

**ACI0085460** HTML式が挿入された4D Write文書をHTML4形式で書き出すと，挿入されたHTMLタグが誤ってエスケープ変換されました。

**ACI0085613** Windows版のみ。リストボックス上でポップアップメニューの項目を選択すると，ウィンドウが移動できなくなりました。ウィンドウを背面に移動してから最前面に移動すると，問題が解消されました。

**ACI0086443** 同一マシン上で起動中の4D Serverが何らかの理由で以上終了した場合，そのサーバーが占有していたクライアント接続ライセンス数が他方の4D Serverに譲渡されませんでした。

**ACI0087082** [Current method name](http://doc.4d.com/4Dv14/4D/14.3/Current-method-name.301-1697901.ja.html)にメモリーリークがありました。関連して[SVG_CLEAR](http://doc.4d.com/4Dv14/4D/14/SVG-CLEAR.301-1382596.ja.html)で使用メモリが減少しませんでした。

**ACI0087122** [DOCUMENT LIST](http://doc.4d.com/4Dv14/4D/14.3/DOCUMENT-LIST.301-1697469.ja.html)をWindowsからMavericks上のSMB共有ネットワークボリュームに対して実行した場合，ファイル数が正確に返されませんでした（99個を超える場合）。問題は修正されましたが，正常な動作には**Windows 7またはWindows Server 2008 R2以降が必要です**。

**ACI0087211** [WEB SET OPTION](http://doc.4d.com/4Dv14/4D/14.3/WEB-SET-OPTION.301-1697709.ja.html)の定数```Web IP address to listen```でWebサーバーの待ち受けIPアドレスを設定することができませんでした。

**ACI0087352** ドキュメント名を省略して>オプションを[PRINT LABEL](http://doc.4d.com/4Dv14/4D/14.3/PRINT-LABEL.301-1697078.ja.html)に渡した場合，シンタックスエラーが返されました。

**ACI0090305** [IMAP_MsgLst](http://doc.4d.com/4Dv14/4D-Internet-Commands/14/IMAP-MsgLst.301-1237821.ja.html)を64ビット版のコンパイルモードで使用した場合，メモリーリークが発生しました。

**ACI0090258** [SMTP_Send](http://doc.4d.com/4Dv14/4D-Internet-Commands/14/SMTP-Send.301-1237778.ja.html)の第2引数を省略または0を渡した場合，プロセスがハングしました。

**ACI0090083** Windows版のみ。デザインモードの検索エリア・ストラクチャーインスペクターのフィールド名・プロパティリストのテーマ名など，文字列の位置が高すぎて上部が切れてしまっている箇所がありました。日本語システム特有の問題です。副作用を避けるため，修正されたのは，スタティックテキストおよび単一行の入力エリアだけです。複数行のエリアは変更されていません。単一行の入力エリアは，地域と言語の設定（オペレーションシステム）の影響を受けます。

**ACI0090069** クライアント/サーバー版で表示される《ロックされたレコード》のダイアログは，メッセージが3行までしか表示されないため，途中で切れてしまうことがありました。修正により，ダイアログは拡張され，水平方向にリサイズできるようになりました。

**ACI0090033** 1文字だけのスタティックテキスト"x"（小文字のエックス）はランタイムモードで表示されませんでした。

**ACI0090026** 再帰的に自己を参照しているサブフォームが存在すると，ストラクチャーの検証でアプリケーションがクラッシュしました。

**ACI0089955** リソースのないプラグイン，つまり```manifest.json```を使用するv14ネイティブプラグインが2個以上インストールされたストラクチャを閉じると，アプリケーションがクラッシュしました。

**ACI0089862** Mac版のみ。高解像度ディスプレイでは，角の丸い四角形オブジェクトが奇麗に表示されませんでした。円や楕円は問題ありません。

**ACI0090360** [ST SET ATTRIBUTES](http://doc.4d.com/4Dv14/4D/14.3/ST-SET-ATTRIBUTES.301-1696520.ja.html)で無効なフォント名を指定した場合，変数のスタイルが変化しました。修正により，[FONT LIST](http://doc.4d.com/4Dv14/4D/14.3/FONT-LIST.301-1697499.ja.html)から返されるフォント名（英語または日本語）以外が渡された場合，コマンドは何もしないようになりました。有効なフォント名は，プラットフォームに依存することに留意してください。

**ACI0087370** [14.3 Hotfix 1](http://www.4d.com/jp/blog/about-14-3-hf1.html)で改善された問題がさらに修正されました。

**ACI0088360** 地域と言語の設定により，小数点にカンマ記号が割り当てられている場合，リストボックスのセルに小数が入力できませんでした。

**ACI0088790** スペイン語版のみ，ラベルエディター画面に表示される文字列（ラジオボタンのタイトルなど）の一部が欠けていました。

**ACI0089184** Windows版のみ。ウィンドウタイプが```Movable dialog box```の場合，4D Writeのメニューが表示されませんでした。

**ACI0089899** 署名されたスタオンドアロン版アプリケーションを初めて起動したときにはGateKeeperのダイアログが表示されますが，[RESTART 4D](http://doc.4d.com/4Dv14/4D/14.3/RESTART-4D.301-1696588.ja.html)で自動アップグレードを実行した場合，更新された新しいアプリケーションではGateKeeperのダイアログが表示されませんでした。ドキュメントをコピーする過程で拡張されたファイル属性情報（GateKeeperが参照する『検疫』属性など）が取り除かれているためです。

**ACI0090115** Windows版のみ。プリント時可変のマルチスタイルテキストをプリントアウトした場合，最初のページしか印刷されないことがありました。

**ACI0090166** 4D Viewのセルのフォーミュラに設定されたメソッドの第1引数には，エリアの参照が代入されているはずですが，そうではありませんでした。

**ACI0090094** [SET PRINT OPTION](http://doc.4d.com/4Dv14/4D/14.3/SET-PRINT-OPTION.301-1697062.ja.html)の定数```Spooler document name option```でPDF文書名を設定しても，ダイアログの《PDFとして保存...》を選択すると，Print.PDFまたはPrint.PS（PostScriptの場合）というファイル名になりました。対照的に，文書をプレビューで開いた場合，ウィンドウのタイトルに設定した文書名が反映されます。続けて文書をPDFとして保存すれば，その名前が採用されました。

**ACI0090049** セレクション型のリストボックスが配置されたプロジェクトフォームを新規データベースにドラッグ％ドロップでコピーすると，リストボックスに関連づけられたテーブルがコピーされませんでした。結果的に，テーブルの無いセレクション型リストボックスが作成されました。また，相手データベースにテーブルが存在する場合，間違ったテーブルがリストボックスのマスターテーブルになりました。

**ACI0090035** [DOM Parse XML source](http://doc.4d.com/4Dv14R5/4D/14-R5/DOM-Parse-XML-source.301-1852314.ja.html)のXSD検証を使用した場合，他のスキーマをインポートするようなスキーマの検証で失敗しました。XSD要素の```import```を活用し，複数のスキーマをインポートするようなXSDは少なくありません。DOMコマンドは，すべてのスキーマの名前空間が同一でなければ，そのようなXMLが検証できませんでした。```include```とは違い，```import```では，異なる名前空間のスキーマを

**ACI0090018** トランザクション内でインデックスフィールドのレコードの値を書き換えた場合，トランザクションをキャンセルした直後にクエリを実行すると，取り消したはずの値が返されることがありました。もし，トランザクションをキャンセルした後，[UNLOAD RECORD](http://doc.4d.com/4Dv14R5/4D/14-R5/UNLOAD-RECORD.301-1851158.ja.html)でレコードをアンロードすれば問題ありません。

**ACI0090009** ```On Resize```イベントは，```On Load```イベントが実行中であっても，発生しました。```On Load```で初期化される変数を```On Resize```が参照するような場合，これが誤動作の原因となる恐れがありました。

**ACI0089988** 自動スタイルシートが設定されたフォームオブジェクトのフォント名は，OS X Yosemiteで《システムフォント レギュラー》ですが，プロパティリストのフォント名をクリックして再選択すると，《Helvetica》になりました。日本語システム特有の問題です。

**ACI0089986** OS X Yosemiteでテキスト入力エリアに文字列を入力して日本語変換をした場合，入力した文字列よりも変換された日本語のほうが短い場合など，入力した文字列が消えました。問題は修正されましたが，**日本語入力の再変換（Control+1, Control+2）で候補文字列が正常に表示されない**，という別の問題 (ACI0090542) が発生しています。これについては，現在，調査中です。

**ACI0089820** クイックレポートの列をクリックし，整列をデフォルト以外に設定した場合，タイトルには適用されますが，行の整列はデフォルトのままでした。

**ACI0089818** Mac版のみ。ビルドアプリケーションのパスにコマンドラインでエスケープが必要な文字（たとえば空白）が含まれている場合，署名に失敗しました。

**ACI0089799** OS X Yosemiteでダイアルオブジェクトのカラーが正常ではありませんでした。

**ACI0089798** Windows版のみ。MDIウィンドウのAlt+クリックですべてのウィンドウをまとめて閉じることができませんでした。アクティブなウィンドウだけが閉じられました。

**ACI0089789** 自動クライアント更新が有効にされたサーバーアプリケーションをビルドした場合，GateKeeperが有効にされたMacで起動しようとすると，アプリケーションが破損している，というダイアログが表示されました。自動アップグレード用のクライアントが作成される前に，サーバーアプリケーションが署名されているためでした。

**ACI0089783** OS X Yosemiteではボタンとスタティックテキストの位置が揃っていませんでした。

**ACI0089765** Windows版のみ。一部のフォント名は，SVGピクチャで使用された場合，画面には表示はできても，印刷に反映されませんでした。

**ACI0089750** マルチスタイルテキストのブロックが標準テキストの場合，[ST Get content type](http://doc.4d.com/4Dv14R5/4D/14-R5/ST-Get-content-type.301-1851217.ja.html)から返されるブロックの開始位置と終了位置が正しくありませんでした。

**ACI0089747** [ST Get text](http://doc.4d.com/4Dv14R5/4D/14-R5/ST-Get-text.301-1851229.ja.html)に同一の値を開始位置また終了位置として渡した場合，それは不正な指示なのでOK変数には0が返されるはずですが，1が返されました。

**ACI0087601** クライアント/サーバーで4D Viewを使用した場合，数値フォーマットは各クライアントのローカル設定を反映しませんでした。

**ACI0087588** Windows版のみ。フォームエディターで[ビュー](http://doc.4d.com/4Dv14R5/4D/14-R5/Using-object-views.300-1880797.ja.html)の名前を入力しようとした場合，ハイライトとエリアの色が酷似しているために判別が困難でした。

**ACI0087535** 
4D Web ServerのフロントエンドにApacheが置かれ，下記のように```mod_proxy```が有効にされている場合，POSTされたXMLデータが[WEB GET HTTP BODY](http://doc.4d.com/4Dv14R5/4D/14-R5/WEB-GET-HTTP-BODY.301-1852214.ja.html)で完全に受け取れませんでした。HTTPSポートでは，プロキシを使用しても問題ありません。HTTPだけの問題です。

```xml
<IfModule mod_proxy.c>
    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8080/
    ProxyPassReverse / http://127.0.0.1:8080/
</IfModule>
```

**ACI0087353** [IDウィンドウのアイコンのカスタマイズ](http://doc.4d.com/4Dv14R5/4D/14-R5/Access-system-overview.300-1880659.ja.html)に指示どおりに```LoginImage.png```ファイルを配置した場合，《サーバーに接続》ダイアログに正しく表示されませんでした。透明度の関係で，《ユーザー認証》という文字列の背面にピクチャが表示されました。

**ACI0089393** v12から変換されたデータベースでフォームの印刷プロパティを変更した場合，[PAGE SETUP](http://doc.4d.com/4Dv14R5/4D/14-R5/PAGE-SETUP.301-1851691.ja.html)でその値を読み込んでも[PRINT SETTINGS](http://doc.4d.com/4Dv14R5/4D/14-R5/PRINT-SETTINGS.301-1851711.ja.html)は新しい値ではなく，v12時代の値を反映しました。それでも，プロパティリストにはきちんと新しい値が表示されました。

**ACI0089338** Windows版のみ。システムWebエリアが表示されているフォームで[Select document](http://doc.4d.com/4Dv14R5/4D/14-R5/Select-document.301-1852057.ja.html)を使用した場合，アプリケーションがクラッシュすることがありました。特に，ファイル選択ダイアログをフォーム上でドラッグすると危険でした。

**ACI0089397** Windows版のみ。印刷中，または```On Load```イベントでテキスト入力エリアに[OBJECT GET BEST SIZE](http://doc.4d.com/4Dv14/4D/14.3/OBJECT-GET-BEST-SIZE.301-1696991.ja.html)を使用した場合，返される高さの最適値が正しくないことがありました。

**ACI0089328** Mac版のみ。垂直スクロールバーが表示されたテキスト入力エリアは，[ワードラップ](http://doc.4d.com/4Dv14/4D/14.3/List-box-column-specific-properties.300-1705525.ja.html)が正常に働かないことがありました。

**ACI0089238** Windows版のみ。階層ポップアップメニューをクリックした後，何もしないまま，テキスト入力エリアに移動すると，ポップアップは固まり，エリアには何も入力できませんでした。

**ACI0088323** [ウィンドウの配置の記憶](http://doc.4d.com/4Dv14/4D/14.3/Memorization-of-window-geometry.300-1705389.ja.html)を有効にしても，第2ページ以降に置かれたリストボックスの配置は記憶されませんでした。

**ACI0088274** [外部PHPインタープリター](http://doc.4d.com/4Dv14/4D/14.3/Executing-PHP-scripts-in-4D.300-1697860.ja.html)をセットアップしても，関数をコールするPHPスクリプトが実行できませんでした。

```sh
auto_prepend_file = "C:/Program Files (x86)/4D/4D v14.3/4D/Resources/php/Windows/_4D_Execute_PHP.php"

display_errors = "stderr"

```

上記のように設定した場合，4Dの[PHP Execute](http://doc.4d.com/4Dv14/4D/14.3/PHP-Execute.301-1697861.ja.html)だけでなく，コマンドラインからもPHPが実行できません。対照的に```auto_prepend_file```をコメントアウトすれば，少なくともコマンドラインからはPHPが実行できました。4Dは，環境変数を使用してデータを```_4D_Execute_PHP.php```に渡していますが，これが```$_ENV```では読めないことがありました。なお，```$_ENV```を有効にするためには，```php.ini```に下記の内容を追加する必要があります。

```sh
variables_order = "EGPCS"
```

修正により，```$_ENV```の代わりに```getenv()```が使用されるようになったので，```php.ini```に```variables_order```を追加しなくても，外部PHPインタープリターが使用できるようになりました。

**ACI0087976** コードで作成した新規リストを階層ポップアップメニューに代入しても，オブジェクトに表示される内容が更新されませんでした。

**ACI0089743** [MESSAGE](http://doc.4d.com/4Dv14/4D/14.3/MESSAGE.301-1696910.ja.html)でメッセージを表示した場合，```Carraiabe return``` (0xD) が無視されました。問題は修正されましたが，回避策として```Line feed``` (0xA) を使用していたのであれば，コードを見直す必要があります。

**ACI0088542** ポップアップメニューの項目を矢印キーで選択し，テンキー側の```Enter```を入力した場合，値を選択せずにポップアップメニューが閉じられました。

**ACI0088532** v12からv14にデータベースをアップグレードした場合，データファイルが破損することがありました。具体的には《レコードアドレスディレクトリのタグヘッダーが無効です》というエラーや《削除されたレコードの連鎖リストが無効です》といったエラーや《一部のレコード参照が欠落しています》といったインデックスページのエラーが検出されることがありました。問題は，データファイルのサイズ・ハードディスクのアクセス速度といった条件が悪ければ悪いほど高い確率で発生し，500,000件以上のレコードが保存されているようなテーブルが被害を受ける傾向にあります。確実に問題を避けるには，SSDを使用するしかありませんでした。インデックスを作成する前にアドレステーブルの変換が実行されていたことが原因でした。修正により，アドレステーブルを変換した後，インデックスの構築とプライマリーキーの検証が実行されるようになりました。

**ACI0088495** 実数値を[String](http://doc.4d.com/4Dv14/4D/14.3/String.301-1697401.ja.html)で文字列に変換した場合，その実数値が計算された経緯次第では1.0の近似値が"1"ではなく"0.1"に変換されることがありました。[Round](http://doc.4d.com/4Dv14/4D/14.3/Round.301-1696863.ja.html)で数値を丸めておけば問題ありません。

```
C_REAL($check)
$check:=0.25+0.0834+0.1666+0.1111+0.1111+0.1667+0.1111

ALERT(String($check)) //1.0ではなく0.1《誤》

$check:=$check+1
ALERT(String($check)) //結果は2.0《正》
```

**ACI0088422** Mac版のみ。ユーザーモードで印刷プレビューを実行し，表示されたダイアログで《プレビューでPDFを開く》を実行した後にそのまま《印刷》ボタンをクリックすると，プリントアウトされずに再度プレビューが実行されました。

**ACI0088383** 入力フィルターが設定されたフィールドのオブジェクトメソッドで値を更新した場合，データベースには，代入文で更新される前のフィルターされた値が保存されました。

**ACI0088869** Mac版のみ。Webサーバーを公開している4Dと同じマシンで第2の4Dを起動し，同じポート番号でWebサーバーの公開を試みると，《データベースを公開できません》というメッセージが表示されますが，そのまま第2の4Dを終了すると，ダイアログが消えませんでした。

**ACI0088866** フォームエディターのコンテキストメニューで継承されたフォームの表示/非表示を切り替えることができませんでした。

**ACI0088830** Mac版のみ。クライアントサーバー版でリストボックスの行をドラッグ＆ドロップで移動中，リストボックスのスクロールが発生すると，アプリケーションがクラッシュしました。

**ACI0088822** Windows版のみ。フォームエディターでボタンなどのオブジェクトをクリックし，そのままマウスボタン等を押したまま待機していると《このプログラムは応答していません》という状態に陥りました。特にスクロールバーを操作しているときには，こうしたことが起こり得ました。

**ACI0088763** ビルドされたクライアントアプリケーションは，ビルドされたサーバーが実行されているはずのマシンで実行中のビルドされていない4D Serverに誤って接続する恐れがありました。《4D Serverと4D Remoteのバージョンが違います》という不適切なエラーメッセージが表示され，《続行》をクリックすると，そのまま自動アップグレードを強行し，クライアントがクラッシュしました。

**ACI0088757** ```On Load```イベントで[LISTBOX SORT COLUMNS](http://doc.4d.com/4Dv14/4D/14.3/LISTBOX-SORT-COLUMNS.301-1696851.ja.html)を使用した場合，リストボックスのヘッダーにその列が並び替えられていることを示すアイコンが表示されませんでした。

**ACI0088718** MSDOSモードのMicrosoft IIS7に対して[FTP_GetDirList](http://doc.4d.com/4Dv14/4D-Internet-Commands/14/FTP-GetDirList.301-1237855.ja.html)が使用できませんでした。

**ACI0088709** [HTTP Request](http://doc.4d.com/4Dv14/4D/14.3/HTTP-Request.301-1696556.ja.html)で完全なXMLレスポンスが完全に受け取れないことがありました。

**ACI0088700** Windows版のみ。[On Web Connection](http://doc.4d.com/4Dv14/4D/14.3/On-Web-Connection-database-method.301-1696629.ja.html)つまりWebプロセスで実行するとクラッシュまたはメモリーリークが発生するコマンドがありました。[MESSAGE](http://doc.4d.com/4Dv14/4D/14.3/MESSAGE.301-1696910.ja.html), [DIALOG](http://doc.4d.com/4Dv14/4D/14.3/DIALOG.301-1697854.ja.html), [DISPLAY RECORD](http://doc.4d.com/4Dv14/4D/14.3/DISPLAY-RECORD.301-1697194.ja.html)などです。MESSAGEだけはクラッシュしませんが，[Process Explorer](https://technet.microsoft.com/ja-jp/sysinternals/bb896653.aspx)などで問題を確認することができます。本来，Webプロセスはデフォルトでウィンドウを持っていないため，通常のプロセスとは違い，明示的にウィンドウを作成してからダイアログ系のコマンドを使用するべきです。それを怠ると，アプリケーションクラッシュしたり，メモリーリーク（Windows版であればGDIリソース関連）が発生する恐れがあります。

**ACI0089458** リストボックスの高さが極端に少ない場合など，垂直スクロールバーが表示されないことがありました。

**ACI0089423** Mac版のみ。画面共有を使用中，ローカルでコピーした内容はリモートの4Dにペーストできますが，リモートでコピーした内容はローカルの4Dにペーストできませんでした。

**ACI0089099** リストボックスのセルに複数行を入力することができませんでした。セルの編集中にControl+Enter（Windows）またはCommand+Enterで改行コードが挿入できますが，Macでは2行，Windowsでは1行しか編集中のテキストが表示されませんでした。

**ACI0089063** スケジュールされた自動バックアップを停止できないことがありました。サーモメーターの《中止》ボタンをクリックしても，すぐにまたバックアップが始まりました。

**ACI0089057** Mac版のみ。自動バックアップのスケジュール計算が正しくないことがありました。たとえば，スケジュールを《毎日00:00》に設定した場合，次回バックアップ予定が00:09と算出されました。同様に《10:30》と入力した場合には11:09となりました。

**ACI0088986** Windows版のみ。Microsoftセキュリティ更新KB2962872以降，システムWebエリアが不安定になりました。

**ACI0088984** Mac版のみ。地域がアメリカ合衆国，言語がスペイン語に設定された環境では，桁区切りにピリオド (.)・小数点にカンマ (,) が使用されました。期待されるのとは逆の組み合わせです。言語が英語，または地域がパナマであれば問題ありません。

**ACI0088909** PPC版でテーブルにコメントが記述されたストラクチャを変換した場合，《デザインモードを検索》で《ストリームの終わりを超えた読み込みが試みられました》というランタイムエラー (200) が発生することがありました。クライアント/サーバー版に特有の問題です。

**ACI0089460** PNGまたはJPEG画像が挿入されたHTMLを4D Writeで開こうとすると，アプリケーションがクラッシュする恐れがありました。

**ACI0089727** トランザクション中に作成された大文字のレコードは，フィールドにインデックスが設定されている場合，小文字で検索できないことがありました。

**ACI0089707** Windows版のみ。フォームエディターで《入力順》ツールを選択しただけで，フォームは変更されたものと判断されました。つまり，ウィンドウタイトルに * 記号が表示されました。

**ACI0089649** [LOG EVENT](http://doc.4d.com/4Dv14/4D/14.3/LOG-EVENT.301-1697508.ja.html)に```Into 4D diagnostic log```を指定してで診断ログに記録を書き込もうとしても，無視されることがありました。コマンドの直後にブレークポイントを打てば，ログが書き込まれます。

**ACI0089158** [MESSAGE](http://doc.4d.com/4Dv14/4D/14.3/MESSAGE.301-1696910.ja.html)は，間違ったウィンドウにメッセージを表示することがありました。

**ACI0089566** 無効なポインターに値を代入するとアプリケーションがクラッシュしました。

**ACI0089417** グループ化された配列は，結合されたリストボックスに変換されますが，そのようなリストボックスに含まれる適当な列の配列に値を代入することでグループ全体の行を選択することができなくなりました。値が更新された列の行だけが選択されました。

**ACI0089105** MS SQL Serverのリンクサーバーから```OPENQUERY```ステートメントを発行した場合，SQLエラーが返されました。

**ACI0089090** MS QueryからパラメーターのあるSQLを発行した場合，SQLエラーが返されました。たとえば，下記のようなSQLです。

```sql
SELECT Contacts.CompanyID, Contacts.SurnameFROM Contacts ContactsWHERE (Contacts.CompanyID=[param])
```
