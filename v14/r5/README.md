[4D v14 R5](http://forums.4d.fr/Post/EN/16080071/0/0/)
---

*ペータ版開発中に発生した問題*

**ACI0091370** **R5（Mac）**: マルチスタイルテキストにURLを挿入した場合，そのリンクを開くことができませんでした。これまで入力可のテキスト内でURLを開くために使用されていたControl+クリック（Mac）は，Command+クリックに変更されました。Control+クリックは，コンテキストメニューを開くための標準的な操作だからです。

**ACI0091295** **R5（Mac:Yosemite）**: テキストエリアのコンテキストメニュー・フォントリストにHelveticaがアルファベット並び順の観点から間違った位置に何度も出現しました。その項目を選択すると，いつも"A"から始まる最初のフォントが選択されました。

**ACI0091293** **R5** コンボボックスのOn Before Keystroke, On After Keystroke, On After Editいずれかのイベントでデバッガを表示することができませんでした。

**ACI0091277** **R5 （Windows 8.1）** 画面の解像度を125%に設定した場合，リストボックスのセルを2度クリックして編集すると，文字列が間違った順序で入力されました（例: Test->estT, 4D->D4）。画面の解像度が100%であれば問題ありません。

**ACI0091042** **R5/v13（Windows）** SVGの```textArea```要素の```font-family```属性に複数のフォント名を列挙した場合，最初のフォントだけが認識されました。そのフォントが存在しないのであれば，後続のフォントで代用されるべきです。

**ACI0091039** **R5** [SELECT LIST ITEMS BY POSITION](http://doc.4d.com/4Dv14/4D/14.3/SELECT-LIST-ITEMS-BY-POSITION.301-1696757.ja.html)で階層リストの項目を選択することができませんでした。

---

*R4以降で発生した問題*

**ACI0090207** **R4** [OBJECT SET VISIBLE](http://doc.4d.com/4Dv14/4D/14.3/OBJECT-SET-VISIBLE.301-1696986.ja.html)で別のオブジェクトのプロパティまでが変更されることがありました。

**ACI0090977** **R4** ランタイムエクスプローラーの《プロセス》タブのラベルが欠落しており，XLIFFリソース名がそのまま表示されていました。

**ACI0090973** **R4（Mac）** [ST Get Plain Text](http://doc.4d.com/4Dv14/4D/14.3/ST-Get-plain-text.301-1696524.ja.html)にパラメーター（例: $1）を渡した場合，アプリケーションがクラッシュしました。変数であれば問題ありません。

**ACI0090520** **R4** 4D Viewにポインター（$areaPtr->）の引数を渡すことができませんでした。

**ACI0090744** **R4** 日本語版のみ，作成したリストボックスの変数名が正常ではありませんでした。ヘッダーは《Footer1》列は《Header1》フッターは《Composite Button1》といったデフォルトの変数名が付けられました。

**ACI0090732** **R4** 階層リストの項目が右クリックされたタイミングでタイマーイベントを開始した場合，直後にフォームのOn Timerイベントは発生せず，次に何かをクリックしたタイミングで発生しました。

**ACI0090646** **R4（Mac）** Resourcesフォルダーに何も変更がなかったとしても，クライアントが接続するたびにリソースの同期が実行されました。ネットワークレイヤーの新旧は関係ありません。

**ACI0090606** **R4（Windows）** 4D Viewエリアの内容をコマンドで変更した後，ウィンドウが正常に再描画されませんでした。また，ウィンドウを最善面に移動した後，背後にあるウィンドウの重なった部分がグレーのままでした。いずれかのウィンドウ上でオブジェクトをクリックすれば，再描画の問題は解消されます。

**ACI0090599** **R4** メニュー選択がキャンセルされた場合，[Pop up menu](http://doc.4d.com/4Dv14/4D/14.3/Pop-up-menu.301-1697629.ja.html)は0を返すはずですが，-1が返されました。

**ACI0090677** **R4** [LISTBOX GET ARRAYS](http://doc.4d.com/4Dv14/4D/14.3/LISTBOX-GET-ARRAYS.301-1696835.ja.html)は，リストボックスに設定されたスタイル配列（最高4個）を返し，配列が設定されていない項目については，NILを返すはずですが，そのような場合に間違った配列（すでに返された配列）が返されるようになりました。

---

*R3以降で発生した問題*

**ACI0091017** **R3** [EXPORT TEXT](http://doc.4d.com/4Dv14/4D/14.3/EXPORT-TEXT.301-1696767.ja.html)でレコードを書き出した場合，200件の倍数だけが正常で，残りのレコードはデータが空でした。

**ACI0090441** **R3（Windows 8.1）** タイマーイベントでCPU使用率が急上昇しました。問題の深刻度は，コンピューター搭載されているCPUの数に左右されました。

---

*14.xに元から存在した問題*

**ACI0090448** Mac版のみ。フォームエディターでオブジェクト群をペーストボードにコピーし，そのデータをBLOBに保存した場合，後に別のフォームにそのデータをペーストすると単なる画像がペーストされることがありました。

**ACI0090402** Mac版のみ。4D Writeのエリアにトレマ/ウムラウトやシルコムフレックスなどのアクセント記号を文字との組み合わせで入力することができませんでした。

**ACI0090401** [FORM LOAD](http://doc.4d.com/4Dv14/4D/14.3/FORM-LOAD.301-1696723.ja.html)でメモリにロードしたフォームに対し，[OBJECT DUPLICATE](http://doc.4d.com/4Dv14/4D/14.3/OBJECT-DUPLICATE.301-1697007.ja.html)でサブフォームまたはWebエリアを複製しようとすると，アプリケーションがクラッシュしました。

**ACI0090364** Mac版のみ。選択リストが関連づけられたリストボックスのセルを編集中に上下の矢印キーを入力すると，アプリケーションがクラッシュしました。

**ACI0091628** [SET LIST ITEM PARAMETER](http://doc.4d.com/4Dv14/4D/14.3/SET-LIST-ITEM-PARAMETER.301-1696736.ja.html)にオブジェクト名を渡した場合，項目の右側に表示される付加的なテキスト (Additional text)が設定できませんでした。変数名を指定した場合は問題ありません。

**ACI0091086** OS Yosemiteのみ，[PRINT SELECTION](http://doc.4d.com/4Dv14/4D/14.3/PRINT-SELECTION.301-1697079.ja.html)コマンドでリストフォームをプリントアウトすると，一部の入力可フィールドが灰色の四角形として印刷されました。フィールドが入力可でなければ問題ありません。

**ACI0090567** アプリケーションビルドの画面で，Masterの行を選択してから削除ボタンをクリックした場合，そのライセンスに関連付けられたExpansionの行にはMasterの番号がそのまま表示されていました。削除されたMasterの番号は空欄になるべきでした。

**ACI0090541** クライアント/サーバー版で[METHOD SET CODE](http://doc.4d.com/4Dv14/4D/14.3/METHOD-SET-CODE.301-1696574.ja.html)を実行した場合，サーバーが終了することがありました。

**ACI0090540** Mac版のみ。マルチスタイルで《プリント時可変》のオブジェクトをプリントアウトした場合，境界線が正常に印刷されないことがありました。一部の側面が欠落していたり，完全に省略されたりしました。

**ACI0090190** Windows版のみ。ドロップダウンリスト内のアンパーサンド記号（&）の代わりにアンダースコア（_）が表示されました。

**ACI0090363** Mac版のみ。```fill```属性に```none```が指定されたSVGをプリントアウトすると，黒く塗りつぶされたように出力されました。

**ACI0090218** [WEB SEND RAW DATA](http://doc.4d.com/4Dv14/4D/14.3/WEB-SEND-RAW-DATA.301-1697690.ja.html)でHTTPヘッダーの```Date```を任意の日付に変更することができませんでした。日付の文字列に含まれるコロン（:）が誤って解析されるために，後続のヘッダーが崩れてしまい，```Content-Type```が自動的に```application/octet-stream```に設定されたり，```Server```や```Date```などもデフォルトの値が返されました。

**ACI0090337** Webプロセスの実行コンテキストでカレントユーザーが正常に初期化されないことがあり，そのために忙しいアプリケーションでは突発的にサーバーがクラッシュすることがありました。アプリケーションプロセスが不正に使用され，同時に複数のデーターベースコンテキストが同一の4Dプロセスから呼ばれることがあり得るためでした。

**ACI0090178** Mac版（Yosemite）のみ。v13から変換した場合，自動スタイルシートが設定されたテキスト入力エリアの高さが変わってしまうことがありました。日本語・フランス語・スペイン語・ポルトガル語版で問題が発生しました。大抵，オブジェクトの高さは16から13に縮小されました。問題は修正されていますが，変換時に**システム環境設定で第一言語（最上位）に設定されている言語と4Dの言語が一致していることが必要です*。

**ACI0088506** [OB Get](http://doc.4d.com/4Dv14/4D/14.3/OB-Get.301-1696531.ja.html)に定数```Is text```を渡した場合，文字列が32,000までしか返されませんでした。

**ACI0088315** Mac 64 bit版のみ。[PAGE SETUP](http://doc.4d.com/4Dv14/4D/14.3/PAGE-SETUP.301-1697070.ja.html)を使用した場合，設定した内容が印刷に反映されませんでした。 
**ACI0090132** Windows版のみ。On Resizeイベントでウィンドウサイズに合わせてスプリッター変数の位置を連続的に移動した場合，スプリッターの位置は最後のリサイズイベントまで実際には変わらないため，位置が数ピクセルずれてしまいました。v13では問題ありませんでした。

**ACI0090150** 32,767枚以上のウィンドウを作成した場合，アプリケーションがフリーズしました。たとえば，多数のプロセスを作成したり，頻繁に自動バックアップを実行したようなときに問題が発生しました。

**ACI0090155** Mac版（Yosemite）のみ。特定の画像をピクチャ変数にドラッグ＆ドロップしたり，[GET PASTEBOARD DATA](http://doc.4d.com/4Dv14/4D/14.3/GET-PASTEBOARD-DATA.301-1697029.ja.html)で読み取ろうとすると，アプリケーションがクラッシュしました。

**ACI0090118** Windows 8.1のみ。システムWebエリアが表示されている場合，同じフォーム上に配置されたテキストエリアには文字列を入力することができませんでした。

**ACI0090116** [SET UPDATE FOLDER](http://doc.4d.com/4Dv14/4D/14.3/SET-UPDATE-FOLDER.301-1696590.ja.html)でストラクチャフォルダーの親フォルダーを指定した場合，自動更新コマンドを実行するとアプリケーションがごみ箱に移動されてしまい，更新を完了することができませんでした。

**ACI0082036** データベースの名称に括弧が含まれている場合，そのデータベースは《最近使用したデータベース》メニューから起動することができませんでした。

**ACI0082468** Windows版のみ。コードエディターに表示されるタイプアヘッドの候補ウィンドウに余計な水平スクローバーが表示されてしまい，内容が隠れてしまうことがありました。日本語システム特有の問題です。

**ACI0083377** Windows版のみ。新規スタイルシートを作成した場合，デフォルトのフォント名は《Meiryo UI》であるべきですが，《Segoe UI》でした。日本語システム特有の問題です。

**ACI0084154** リストボックスの幅が1ピクセル余計に計算されることがありました。たとえば，《フッター表示》を有効にしてから無効にした場合など，フォームエディターを閉じてから開き直すと，リストボックスの幅が1ピクセル増え，必要のない水平スクロールバーが表示されたりしました。

**ACI0076706** 4D View文書の背面に配置されたピクチャは，行の繰り返しを有効にしてプリントアウトした場合，背面に挿入されていないときとは違う位置に印刷されました。

**ACI0084539** 起動時にWebサーバーを開始するようにデータベースが設定されていた場合，On Startupデータベースイベントでモーダルダイアログ（例: [ALERT](http://doc.4d.com/4Dv14/4D/14.3/ALERT.301-1696909.ja.html)）を表示すると，Webサーバーの起動に失敗しました。

**ACI0085460** HTML式が挿入された4D Write文書をHTML4形式で書き出すと，挿入されたHTMLタグが誤ってエスケープ変換されました。

**ACI0085613** Windows版のみ。リストボックス上でポップアップメニューの項目を選択すると，ウィンドウが移動できなくなりました。ウィンドウを背面に移動してから最前面に移動すると，問題が解消されました。

**ACI0086443** 同一マシン上で起動中の4D Serverが何らかの理由で以上終了した場合，そのサーバーが占有していたクライアント接続ライセンス数が他方の4D Serverに譲渡されませんでした。

**ACI0087082** [Current method name](http://doc.4d.com/4Dv14/4D/14.3/Current-method-name.301-1697901.ja.html)にメモリーリークがありました。関連して[SVG_CLEAR](http://doc.4d.com/4Dv14/4D/14/SVG-CLEAR.301-1382596.ja.html)で使用メモリが減少しませんでした。

**ACI0087122** [DOCUMENT LIST](http://doc.4d.com/4Dv14/4D/14.3/DOCUMENT-LIST.301-1697469.ja.html)をWindowsからMavericks上のSMB共有ネットワークボリュームに対して実行した場合，ファイル数が正確に返されませんでした（99個を超える場合）。問題は修正されましたが，正常な動作には**Windows 7またはWindows Server 2008 R2以降が必要です**。

**ACI0087211** [WEB SET OPTION](http://doc.4d.com/4Dv14/4D/14.3/WEB-SET-OPTION.301-1697709.ja.html)の定数```Web IP address to listen```でWebサーバーの待ち受けIPアドレスを設定することができませんでした。

**ACI0087352** ドキュメント名を省略して>オプションを[PRINT LABEL](http://doc.4d.com/4Dv14/4D/14.3/PRINT-LABEL.301-1697078.ja.html)に渡した場合，シンタックスエラーが返されました。

**ACI0090305** [IMAP_MsgLst](http://doc.4d.com/4Dv14/4D-Internet-Commands/14/IMAP-MsgLst.301-1237821.ja.html)を64ビット版のコンパイルモードで使用した場合，メモリーリークが発生しました。

**ACI0090258** [SMTP_Send](http://doc.4d.com/4Dv14/4D-Internet-Commands/14/SMTP-Send.301-1237778.ja.html)の第2引数を省略または0を渡した場合，プロセスがハングしました。

**ACI0090083** Windows版のみ。デザインモードの検索エリア・ストラクチャーインスペクターのフィールド名・プロパティリストのテーマ名など，文字列の位置が高すぎて上部が切れてしまっている箇所がありました。日本語システム特有の問題です。副作用を避けるため，修正されたのは，スタティックテキストおよび単一行の入力エリアだけです。複数行のエリアは変更されていません。単一行の入力エリアは，地域と言語の設定（オペレーションシステム）の影響を受けます。

**ACI0090069** クライアント/サーバー版で表示される《ロックされたレコード》のダイアログは，メッセージが3行までしか表示されないため，途中で切れてしまうことがありました。修正により，ダイアログは拡張され，水平方向にリサイズできるようになりました。

**ACI0090033** 1文字だけのスタティックテキスト"x"（小文字のエックス）はランタイムモードで表示されませんでした。

**ACI0090026** 再帰的に自己を参照しているサブフォームが存在すると，ストラクチャーの検証でアプリケーションがクラッシュしました。

**ACI0089955** リソースのないプラグイン，つまり```manifest.json```を使用するv14ネイティブプラグインが2個以上インストールされたストラクチャを閉じると，アプリケーションがクラッシュしました。

**ACI0089862** Mac版のみ。高解像度ディスプレイでは，角の丸い四角形オブジェクトが奇麗に表示されませんでした。円や楕円は問題ありません。

**ACI0090360** [ST SET ATTRIBUTES](http://doc.4d.com/4Dv14/4D/14.3/ST-SET-ATTRIBUTES.301-1696520.ja.html)で無効なフォント名を指定した場合，変数のスタイルが変化しました。修正により，[FONT LIST](http://doc.4d.com/4Dv14/4D/14.3/FONT-LIST.301-1697499.ja.html)から返されるフォント名（英語または日本語）以外が渡された場合，コマンドは何もしないようになりました。有効なフォント名は，プラットフォームに依存することに留意してください。

**ACI0087370** [14.3 Hotfix 1](http://www.4d.com/jp/blog/about-14-3-hf1.html)で改善された問題がさらに修正されました。

**ACI0088360** 地域と言語の設定により，小数点にカンマ記号が割り当てられている場合，リストボックスのセルに小数が入力できませんでした。

**ACI0088790** スペイン語版のみ，ラベルエディター画面に表示される文字列（ラジオボタンのタイトルなど）の一部が欠けていました。

**ACI0089184** Windows版のみ。ウィンドウタイプが```Movable dialog box```の場合，4D Writeのメニューが表示されませんでした。

**ACI0089899** 署名されたスタオンドアロン版アプリケーションを初めて起動したときにはGateKeeperのダイアログが表示されますが，[RESTART 4D](http://doc.4d.com/4Dv14/4D/14.3/RESTART-4D.301-1696588.ja.html)で自動アップグレードを実行した場合，更新された新しいアプリケーションではGateKeeperのダイアログが表示されませんでした。ドキュメントをコピーする過程で拡張されたファイル属性情報（GateKeeperが参照する『検疫』属性など）が取り除かれているためです。
