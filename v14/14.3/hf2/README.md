[4D v14.3 Hotfix 2](http://forums.4d.fr/Post/FR/15945962/1/15945963)
---
* ACI0091348 Windows版のみ，配列型のタブコントロールの最後の要素が選択されている場合，[DELETE FROM ARRAY](http://doc.4d.com/4Dv14/4D/14.3/DELETE-FROM-ARRAY.301-1697569.ja.html)でそのタブを削除するとアプリケーションがクラッシュしました。

* ACI0091172 [QUERY SELECTION](http://doc.4d.com/4Dv14/4D/14.3/QUERY-SELECTION.301-1697129.ja.html)で表示したクエリエディターのクエリタイプメニューは，デフォルトで「絞り込み」にセットされていませんでした。

* ACI0091143 コンポーネントメソッドSVG_SET_FONT_FAMILYを使用した場合，SVG_CLEARでメモリーが完全に解放されませんでした（メモリーリーク）がありました。

【参考】メモリーリークは[GET MEMORY STATISTICS](http://doc.4d.com/4Dv14/4D/14.3/GET-MEMORY-STATISTICS.301-1696594.ja.html)で確認することができます。

* ACI0091090 『プリント時可変』オブジェクトが設定されたテキストを印刷した場合，0による除算が発生することにより，アプリケーションがクラッシュすることがありました。

* ACI0091086 Mac版のみ，OS X 10.10でPRINT SELECTIONを実行すると，入力可フィールドの背景色がランダムにグレーでプリントアウトされました。

* ACI0091082 Mac版のみ，リストボックスに[スクロールしない列](http://doc.4d.com/4Dv14/4D/14.3/List-box-specific-properties.300-1705526.ja.html)が設定されており，そのリストボックスがサブフォームに含まれている場合，デザインモードでそのフォームを開くとアプリケーションがクラッシュしました。

* ACI0090990 [クイックレポートエディター](http://doc.4d.com/4Dv14/4D/14.3/Sorting-report-records.300-1705505.ja.html)で追加したフィールドの並び替え条件を設定することができますが，昇順/降順を示す三角形のアイコンが表示されませんでした。

* ACI0090951 Mac版のみ，3Dボタン・ラジオボタン・チェックボックス・ピクチャボタン・ピクチャポップアップメニューで参照されたSVG画像を印刷すると，真っ黒に出力されました。変数やフィールドでは問題ありません。

* ACI0090881 空のテキスト・BLOB・ピクチャフィールドに対して[Get External data path](http://doc.4d.com/4Dv14/4D/14.3/Get-external-data-path.301-1697422.ja.html)を発行すると，空の文字列を返す代わりに『ExternalData:Table-1 Field-1』といった無効なパスが返されました。

* ACI0090865 Windows版のみ，統合WebKit版の[Webエリア](http://doc.4d.com/4Dv14/4D/14.3/Web-areas.300-1705532.ja.html)は，コンテキストメニューに『LOCALIZED STRING NOT FOUND』と表示されました。

* ACI0090853 Windows版のみ，ポップアップメニューにスクロールバーが表示されるときのサイズが不十分でした。

* ACI0090847 Windows版のみ，タブコントロールは必要に応じてタブがスクロールするようになっていますが，v13以降，表示されていないタブをコマンドで選択した場合，v11のようにタブコントロールが自動的にスクロールしませんでした。

* ACI0090828 Mac版のアプリケーションビルドはWindows版の2倍ほど時間がかかりました。

【参考】アプリケーションビルドのコードはこれまで非同期のファイルコピーAPIを使用していました。同期APIを使用することにより，3~4倍の速さでビルドが完了できるようになりました。

* ACI0090753 ピクチャオブジェクトのコンテキストメニューまたは[READ PICTURE FILE](http://doc.4d.com/4Dv14/4D/14.3/READ-PICTURE-FILE.301-1697053.ja.html)でインポートしたイメージ，あるいは [SET PICTURE FILE NAME](http://doc.4d.com/4Dv14/4D/14.3/SET-PICTURE-FILE-NAME.301-1697034.ja.html)で名前を設定したイメージのファイル名を[Get picture file name](http://doc.4d.com/4Dv14/4D/14.3/Get-picture-file-name.301-1697031.ja.html)で参照した場合，最初は名前が返されますが，4D Remoteでレコードを再ロードした後は空の文字列が返されました。シングルユーザー版または4D Server（ストアドプロシージャー）では問題ありません。

* ACI0090654 Windows版のみ，数値型のリストボックス列を印刷した場合，横揃えが『デフォルト』または『右』であっても，左揃えになりました。

* ACI0090575 [MSG_Extract](http://doc.4d.com/4Dv14/4D-Internet-Commands/14/MSG-Extract.301-1237863.ja.html)は，RFCエンコード（例: U%CC%88berarbeitete%20Offerte.pdf）されたUnicodeファイル名を正しく展開しませんでした。

* ACI0090567 アプリケーションビルド画面で『マスター』番号を削除しても『Expansion#』が取り除かれませんでした。

* ACI0090556 アプリケーションビルド画面で『Expansion#』を選択しても『マスター』番号が空のままでした。

* ACI0090541 クライアント/サーバー版で[METHOD SET CODE](http://doc.4d.com/4Dv14/4D/14.3/METHOD-SET-CODE.301-1696574.ja.html)を実行すると，サーバーがクラッシュすることがありました。

* ACI0090527 フォームエディターでフィールドのフォント名を変更した場合，Control+Zで『取り消し』ができませんでした。

* ACI0090448 Mac版のみ，フォームエディター上でボタンやテキスト入力オブジェクトを選択し，ペーストボードにコピーしたBLOBを後でペーストボードに再現しても，ペーストしたときにはスタティックピクチャーとして貼り付けられました。

【参考】Mac版のAPPEND DATA TO PASTEBOARDは，すでにペーストボードに存在するデータを追加（上書き）しようとした場合，ペーストボード全体の内容をクリアするようになっています。加えて，com.apple.pictをペーストボードに追加すると，自動的にpublic.jpegやpublic.pngも追加されます。そのため，ペーストボートにデータを追加する順序次第では，先に追加したフォームオブジェクトなどのデータが消去されてしまいます。すでに格納されているデータを消さずにペーストボードデータを追加するためには，そのタイプが存在するかどうかを確認しなければなりません。ペーストボードにデータが存在しなければ[Pasteboard data size](http://doc.4d.com/4Dv14/4D/14.3/Pasteboard-data-size.301-1697028.ja.html)が-102を返します。

* ACI0090378 HTTPヘッダーの『accept』フィールドに『compress, gzip, identify』が含まれていた場合，[On Web Connection](http://doc.4d.com/4Dv14/4D/14.3/On-Web-Connection-Database-Method.300-1697689.ja.html)に制御が渡らず，406エラーが返されました。

* ACI0090364 リストボックスの列を入力可に設定し，選択リストを設定した場合，セルの編集中に上下矢印キーを入力すると，アプリケーションがクラッシュしました。

* ACI0090319 Mac版のみ，リストフォームのOn Headerイベントでは[SET WINDOW TITLE](http://doc.4d.com/4Dv14/4D/14.3/SET-WINDOW-TITLE.301-1697737.ja.html)が効きませんでした。

* ACI0090259 Webサービスで公開されたメソッドの入力パラメーターにローカル変数が使用できませんでした。（コンパイルモードで『EXECUTEメソッドのパラメータが不正』ランタイムエラーが返されました。）プロセス変数（Compiler_WEBで宣言）であれば問題ありません。

* ACI0090258 Program hangs after using SMTP_SEND without optional parameter

SSL2/SSL3サポートが取り除かれて以来，[SMTP_SEND](http://doc.4d.com/4Dv14/4D-Internet-Commands/14/SMTP-Send.301-1237778.ja.html)のSSL引数に0を指定するか，省略すると，実行したプロセスが無反応になりました。

【参考】Internet Commandsは，ソケットのエラーを処理(WSAGetLastError)していましたが，OpenSSLのエラー(SSL_get_error)はチェックしていませんでした。さらに，読み書き操作にタイムアウトが適用されていませんでした。もっとも，SSLエラーを正しく処理するようになったため，タイムアウトに到達することは滅多にないはずです。最後に，SSLの接続/アップグレードエラーも処理されるようになりました。以前は，最初の読み書きエラーを処理していただけでしたが，修正により，SSLの接続/アップグレードが失敗した時点で（SSL読み書きの失敗を待つことなく）制御が返されるようになりました。

* ACI0090116 [SET UPDATE FOLDER](http://doc.4d.com/4Dv14/4D/14.3/SET-UPDATE-FOLDER.301-1696590.ja.html)がストラクチャーの置かれているフォルダーを指定している場合，[RESTART 4D](http://doc.4d.com/4Dv14/4D/14.3/RESTART-4D.301-1696588.ja.html)
自動アップグレードを実行すると，ストラクチャーが消去されてしまい，アップグレードは失敗しました。

* ACI0090115 Windows版のみ，『プリント時可変』が有効にされたマルチスタイルテキストを印刷した場合，ページに収まらないテキストの残りが続きのページに印刷されませんでした。v13では，そのような場合，印刷が無限に続きました(ACI0089753)。
 
* ACI0090094 Mac版のみ，[SET PRINT OPTION](http://doc.4d.com/4Dv14/4D/14.3/SET-PRINT-OPTION.301-1697062.ja.html)でPDF文書に出力した場合，ドキュメント名が"print.pdf"に名称になりました。プリントプレビューを実行すれば，設定したドキュメント名になりました。

* ACI0089899 署名されたスタオンドアロン版アプリケーションを初めて起動したときにはGateKeeperのダイアログが表示されますが，RESTART 4Dで自動アップグレードを実行した場合，更新された新しいアプリケーションではGateKeeperのダイアログが表示されませんでした。ドキュメントをコピーする過程で拡張されたファイル属性情報（GateKeeperが参照する『検疫』属性など）が取り除かれているためです。

【参考】この修正に伴い，[COPY DOCUMENT](http://doc.4d.com/4Dv14/4D/14.3/COPY-DOCUMENT.301-1697481.ja.html)コマンドの仕様も変更されました。

* ACI0089704 ページ2以降に配置されたWebエリアは，ページに内容によっては，うまく動作しませんでした。Windows版では，コードが正しく実行されず，Mac版ではアプリケーションがクラッシュしました。

ACI0089335 PK Wizard not loading in C/S mode
クライアント側のストラクチャエディターで[プライマリーキー管理](http://doc.4d.com/4Dv14/4D/14.3/Primary-key-manager.300-1705581.ja.html)』ボタンをクリックすると，SQLエラーが返されました。

* ACI0089184 Windows版のみ，ウィンドウタイプが```Movable dialog box```の場合，4D Writeのメニューが表示されませんでした。

* ACI0089145 『最近使用したデータベース』メニューをクリアした後，4Dを終了し，起動後，4Dサーバーに接続した場合，接続したリモートデータベースの名前が『ローカルデータベース』のリストに表示されました。

* ACI0089113 コンパイルアプリケーション（.4DC）をビルドした場合，初回の起動時にストラクチャファイルに隣接した同名のデータファイル（.4DD）およびジャーナルファイル（.journal）が自動的に選択されませんでした。

【参考】v13までは問題ありませんでした。

* ACI0088790 スペイン語版のみ，ラベルエディター画面に表示される文字列（ラジオボタンのタイトルなど）の一部が欠けていました。

* ACI0088470 テキスト入力オブジェクトの横整列が『右揃え』に設定されている場合，点滅するキャレットがオブジェクトの右側に接すると，見えなくなってしまいました。

* ACI0088360 地域と言語の設定により，小数点にカンマ記号が割り当てられている場合，リストボックスのセルに小数が入力できませんでした。

* ACI0088262 [SET EXTERNAL DATA PATH](http://doc.4d.com/4Dv14/4D/14.3/SET-EXTERNAL-DATA-PATH.301-1697423.ja.html)により，カスタマイズされた外部データ保存パスが設定されているピクチャーフィールドは，その外部ファイルがみつからない場合，レコード保存時に『ExternalData:Table-1 Field-1』といった無効なパスが記録されました。BLOBやテキストでは問題ありません。

* ACI0087679 リストボックスに非表示の列が含まれている場合，その列よりも右側の列をドラッグしたときに表示される列の挿入ポイントが間違っていました。

* ACI0087370 [14.3 Hotfix 1](http://www.4d.com/jp/blog/about-14-3-hf1.html)で改善された問題がさらに修正されました。

* ACI0087352 ```PRINT LABEL ([Table];>)```または```PRINT LABEL (>)```でシンタックスエラーが返されました。```PRINT LABEL ("";>)```であれば問題ありません。

* ACI0087312 ARRAY OBJECTがマルチソートで並び替えられませんでした。

【参考】オブジェクト配列を単独で並び替えることはできませんので，マルチソートの第1配列にはARRAY OBJECTを指定することはできません。

* ACI0087252 Tabキーで4D Viewのセルから隣接するセルに移動することができませんでした。ただし，矢印キーは，それまでに入力されたTabキーの位置を反映しました。

* ACI0086913 クイックレポートの計算カラムに表示フォーマットを適用することができませんでした。

【参考】[ACI0079908](http://www.4d.com/jp/blog/about-13-2-hotfix-2.html)『カラムに式が設定されたクイックレポートは，開いた直後にカラムのコードが実行される』が修正されたことに伴い，計算カラムを評価した値のタイプがエディターには分からないようになりました。今回の修正により，実際に使用されるかどうかに関係なく，表示フォーマットが設定できるようになりました。

* ACI0082468 Windows版のみ，メソッドエディターの候補ウィンドウに不要な横スクロールバーが表示されるために高さが不十分になり，最後の補完候補が隠れてしまいました。

修正前

![1](https://cloud.githubusercontent.com/assets/10509075/6392573/67c3aca6-be05-11e4-8fec-a6ef5450e990.png)

修正後

![2](https://cloud.githubusercontent.com/assets/10509075/6392575/6aeaef3e-be05-11e4-80b9-e80bf59b3028.png)

* ACI0080790 Windows版のみ，ペイント（mspaint.exe）から画像をピクチャエリアにコピー＆ペーストした場合，イメージが縮小されました。

* ACI0080677 Mac版のみ，コードエディターにいくらかの日本語を入力した後，それ以上は戻れなくなるところまで『取り消し』（command+Z）した後に『やり直し』（command+shift+Z）した場合，元のテキストが複製されました。

* ACI0072111 アプリケーションサーバーのポート番号を19813以外に設定してサーバー/クライアントアプリケーションをビルドした場合，ビルドしたクライアントの『サーバーに接続』ダイアログにはビルドしたサーバーの名前が表示されませんでした。
