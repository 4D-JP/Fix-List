## 4D v16.1 

[4D v16.0 Hotfix 2](https://github.com/4D-JP/release-notes/blob/master/v16/16.0/hf2/)および[4D v16.0 Hotfix 1](https://github.com/4D-JP/release-notes/blob/master/v16/16.0/hf1/)の修正事項もご覧ください。

![jp](https://cloud.githubusercontent.com/assets/10509075/16182979/016305e0-36e7-11e6-816b-2335cc6f0abb.png)

* ACI0096189 ``SQL LOGIN``に空の文字列を渡して接続ダイアログを表示した場合，認証情報が正しくても必ずログインに失敗しました。同じ情報をコマンドに引数で渡せばログインに成功します。

* ACI0096278 MacBook Pro Touch BarモデルおよびmacOS Sierraのみ。パスワード入力エリアにフォーカスを移動するなど，日本語入力モードの切り替えが発生する操作の後，アプリケーションが不安定になりました。

---

* ACI0095370 Mac版のみ。``On Column Resize``イベントが有効にされたリストボックスのリサイズイベントにブレークポイントを設定してトレースしようとすると，アプリケーションがハングしました。

* ACI0095842 ライセンス管理画面には，「4D Write」「4D View」とではなく，「4D Write | 4D Write Pro」「4D View | 4D View Pro」と表示されるべきでした。

* ACI0096074 64ビット版のみ。シートウィンドウの背景色は，親ウィンドウのものと同じカラーで表示されました。

* ACI0096142 クエリ定義ファイル (``.4DF``) をクエリエディターで読み込み，論理演算子を変更して再保存した場合，論理演算子が保存されませんでした。

* ACI0096144 オブジェクト型フィールドに対して中``QUERY BY ATTRIBUTE``でクエリを実行した場合，クライアント/サーバー版では，日付属性の値が``null``または存在しないレコードはヒットしませんでした。

* ACI0096194 ``LISTBOX SET ROW HEIGHT``で特定行の高さを変更した後，``LISTBOX SET ROWS HEIGHT``で全体の行高さを変更すると，縦スクロールできる距離の計算が狂ってしまい，最終行まで表示することができませんでした。

* ACI0096252 4D View Proライセンスがインストールされていない環境でスタイル付きテキストの表示されたリストボックスを使用していると，一定のメモリーリークが発生しました。再描画のたびにライセンスのチェックが実行されているようです。

* ACI0096280 リストボックスに重ねてダイアログを表示した場合，2回目以降のクエリが背後のウィンドウに反映されませんでした。明示的に``REDRAW``コマンドを使用する必要があります。

* ACI0096310 Mac 64ビット版のみ。出力フォームの詳細エリアに収まっていないオブジェクトは，行が選択されていても，完全にハイライトされませんでした。

* ACI0096313 複数のフォーミュラが含まれるクエリ定義ファイル（拡張子``.4DF``）をクエリエディターで開き，フォーミュラを編集して再保存すると，2個目以降のフォーミュラが失われました。

* ACI0096325 Mac版のみ。リストボックスの中央寄せヘッダーのタイトル表示位置が正しくありませんでした。ACI0095899が修正されたことの副作用です。

* ACI0096396 Mac版のみ。リストボックスのセルに表示されたテキストが折り返し（ワードラップ）表示されている場合，``LISTBOX SET ROW HEIGHT``で行単位の高さを設定しても，2行目以降が完全に表示されませんでした。行高さの計算が間違っているようです。

* ACI0096422 ``Alt``または``option``キーを押しながらビルドされたクライアントアプリケーションを起動しても，サーバー選択ダイアログが表示されませんでした。

* ACI0096424 Mac 64ビット版のみ。あるテーブルのリストフォーム上でレコードをダブルクリックし，表示されたフォームから``MODIFY SELECTION``でリストフォームを表示すると，入力フォームと出力フォームが重ねて表示されました。

* ACI0096539 ``HTTP Request``でBLOB以外の変数タイプで``UTF-8``エンコーディングのウムラウト文字を受信した場合，文字が正しく変換されませんでした。

**注記**: 修正は``PROCESS 4D TAGS``の振る舞いにも影響があります。

* ACI0096556 セレクション型のリストボックスが表示されているページから別のページに移動し，元のページに戻った場合，リストボックスのセレクションが変化していなくても，``On Display Detail``イベントが発生しました。

* ACI0091986 テキスト型フィールドをMS AccessからODBC Driver経由でインポートすると，データが途中で切れていることがありました。

* ACI0096264 v14で作成し，変換したリストボックスは，列の幅が増えて水平スクロールバーが表示されました。また，数値型が表示されませんでした。

* ACI0096339 32ビット版のみ。配列を含む複雑なオブジェクト型変数に更新に時間がかかりました。

* ACI0096381 ODBC書き出しダイアログを使用してレコードをエクスポートした場合，対象フィールド群にプライマリーキーが含まれていないと，レコードが正しく書き出されませんでした。

* ACI0096407 スクロール操作の直後に``WP SELECT``を使用した場合，指定したテキストがハイライト表示されませんでした。

* ACI0096426 リストボックス列の自動リサイズが有効にされていない場合，ウィンドウのリサイズに伴ってリストボックスの幅が縮小されても，右端の列サイズが縮小されませんでした。

* ACI0096462 列のないリストボックスのコマンドで2個の列を追加すると，1個目の列がリストボックスの幅全体を占有しました。

* ACI0096511 Windows 7のみ。特定のマシンでダイナミックポップアップメニューを表示すると，アプリケーションがクラッシュしました。

* ACI0096735 Mac版のみ。リストフォームに詳細エリア内にはスプリッターが表示されませんでした。

* ACI0096484 フォルダー名にウムラウト記号が含まれている場合，``IMAP_SetPrefs``からエラーが返されました。
